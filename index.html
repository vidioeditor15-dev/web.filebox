<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>PNG Gallery Pro - Professional Asset Platform</title>
    <script src="/_sdk/element_sdk.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
      }

      html,
      body {
        height: 100%;
      }

      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .glass-effect {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      }

      .hidden {
        display: none !important;
      }

      .filter-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        margin-top: 8px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        z-index: 50;
        min-width: 280px;
        max-height: 400px;
        overflow-y: auto;
      }
      .subcategory-dropdown {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border-radius: 12px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        z-index: 50;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        border: 1px solid #e5e7eb;
      }

      .group:hover .subcategory-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .subcategory-dropdown-btn {
        transition: all 0.2s ease;
        cursor: pointer;
        border: none;
        outline: none;
      }

      .subcategory-dropdown-btn:hover {
        transform: translateY(-1px);
      }
      .toast {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #10b981;
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        animation: slideIn 0.3s ease;
      }

      @keyframes slideIn {
        from {
          transform: translateX(400px);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .checkered-bg {
        background-image: linear-gradient(45deg, #e5e7eb 25%, transparent 25%),
          linear-gradient(-45deg, #e5e7eb 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #e5e7eb 75%),
          linear-gradient(-45deg, transparent 75%, #e5e7eb 75%);
        background-size: 20px 20px;
        background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        background-color: #ffffff;
      }

      /* Image Optimization */
      img {
        max-width: 100%;
        height: auto;
      }

      .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* Loading states for better mobile experience */
      .loading-skeleton {
        background: linear-gradient(
          90deg,
          #f0f0f0 25%,
          #e0e0e0 50%,
          #f0f0f0 75%
        );
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
      }

      @keyframes loading {
        0% {
          background-position: 200% 0;
        }
        100% {
          background-position: -200% 0;
        }
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        /* Navigation */
        header .flex.items-center.justify-between {
          flex-direction: column;
          gap: 16px;
        }

        .flex.items-center.space-x-6 {
          flex-wrap: wrap;
          justify-content: center;
          gap: 12px;
        }

        /* Hero Section */
        .text-5xl.md\\:text-6xl {
          font-size: 2.5rem !important;
        }

        .flex.flex-col.sm\\:flex-row {
          flex-direction: column;
          width: 100%;
        }

        .flex.flex-col.sm\\:flex-row .bg-white {
          width: 100%;
          margin-bottom: 12px;
        }

        /* Search Bar */
        .bg-white.rounded-full.shadow-2xl.p-2.flex.items-center {
          flex-direction: column;
          border-radius: 16px !important;
          padding: 16px !important;
        }

        .bg-white.rounded-full.shadow-2xl.p-2.flex.items-center input {
          width: 100%;
          margin: 8px 0;
        }

        /* Stats Section */
        .grid.grid-cols-2.md\\:grid-cols-4 {
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }

        .stat-card {
          padding: 16px !important;
        }

        .stat-number {
          font-size: 2rem !important;
        }

        /* Featured Collections */
        .grid.grid-cols-1.md\\:grid-cols-3 {
          grid-template-columns: 1fr;
          gap: 16px;
        }

        /* Asset Types */
        .grid.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-6 {
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
        }

        /* Features Grid */
        .grid.grid-cols-1.md\\:grid-cols-3 {
          grid-template-columns: 1fr;
        }

        /* Explore Section */
        .max-w-7xl.mx-auto .flex.gap-4.items-center {
          flex-direction: column;
        }

        .flex.gap-4.items-center .flex-1 {
          width: 100%;
        }

        /* Gallery Grid */
        #explore-gallery.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-4 {
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
        }

        /* Pricing Cards */
        .grid.grid-cols-1.md\\:grid-cols-3 {
          grid-template-columns: 1fr;
        }

        /* Modal Content */
        .modal-content {
          margin: 20px;
          max-height: calc(100vh - 40px);
        }

        /* Footer */
        .grid.grid-cols-1.md\\:grid-cols-5 {
          grid-template-columns: 1fr;
          gap: 24px;
        }

        .md\\:col-span-2 {
          grid-column: 1;
        }
      }

      @media (max-width: 480px) {
        /* Mobile Small Screens */
        .grid.grid-cols-2.md\\:grid-cols-4 {
          grid-template-columns: 1fr;
        }

        #explore-gallery.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-4 {
          grid-template-columns: 1fr;
        }

        .grid.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-6 {
          grid-template-columns: repeat(2, 1fr);
        }

        .text-5xl.md\\:text-6xl {
          font-size: 2rem !important;
        }

        /* Navigation items */
        .flex.items-center.space-x-6 {
          gap: 8px;
        }

        .flex.items-center.space-x-6 button {
          padding: 8px 12px;
          font-size: 14px;
        }

        /* Filter Pills */
        .flex.flex-wrap.gap-3 {
          gap: 8px;
        }

        .filter-pill {
          padding: 6px 12px;
          font-size: 12px;
        }
      }

      /* Tablet Styles */
      @media (min-width: 769px) and (max-width: 1024px) {
        .grid.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-6 {
          grid-template-columns: repeat(3, 1fr);
        }

        #explore-gallery.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-4 {
          grid-template-columns: repeat(3, 1fr);
        }

        .grid.grid-cols-1.md\\:grid-cols-3 {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      /* Touch Device Improvements */
      @media (hover: none) and (pointer: coarse) {
        .gallery-item .image-overlay {
          opacity: 1 !important;
          background: rgba(0, 0, 0, 0.5);
        }

        .action-btn {
          padding: 12px 16px;
          font-size: 16px;
        }

        /* Increase tap target sizes */
        button,
        .nav-link,
        .filter-pill,
        .gallery-item {
          min-height: 44px;
          min-width: 44px;
        }

        .trending-tag,
        .subcategory-pill {
          padding: 12px 16px;
          min-height: 44px;
        }
      }

      /* Landscape Mobile */
      @media (max-height: 500px) and (orientation: landscape) {
        .hero-section {
          padding: 40px 0 !important;
        }

        .section {
          padding: 40px 0 !important;
        }
      }

      /* High DPI Screens */
      @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        .gradient-bg {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
      }

      .image-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        opacity: 0;
        transition: opacity 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 12px;
      }

      .gallery-item:hover .image-overlay {
        opacity: 1;
      }

      .action-btn {
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: 600;
        font-size: 14px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        display: flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        border: none;
      }

      .action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .badge {
        display: inline-flex;
        align-items: center;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
      }

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        padding: 20px;
      }

      .modal-content {
        background: white;
        border-radius: 16px;
        max-width: 900px;
        width: 100%;
        max-height: 90%;
        overflow-y: auto;
        position: relative;
      }

      .tab-button {
        padding: 12px 24px;
        border: none;
        background: transparent;
        cursor: pointer;
        font-weight: 600;
        color: #6b7280;
        border-bottom: 2px solid transparent;
        transition: all 0.2s;
      }

      .tab-button.active {
        color: #667eea;
        border-bottom-color: #667eea;
      }

      .section {
        padding: 80px 0;
      }

      .feature-icon {
        width: 64px;
        height: 64px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 32px;
        margin-bottom: 16px;
      }

      .stat-card {
        text-align: center;
        padding: 32px;
      }

      .stat-number {
        font-size: 48px;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .pricing-card {
        border: 2px solid #e5e7eb;
        border-radius: 16px;
        padding: 32px;
        transition: all 0.3s;
      }

      .pricing-card:hover {
        border-color: #667eea;
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2);
      }

      .pricing-card.featured {
        border-color: #667eea;
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.05) 0%,
          rgba(118, 75, 162, 0.05) 100%
        );
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .loading-skeleton {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        background: #e5e7eb;
        border-radius: 8px;
      }
      /* Payment Modal Styles */
      .payment-method-btn {
        transition: all 0.3s ease;
      }

      .payment-method-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
      }

      .payment-method-btn.selected {
        border-color: #667eea;
        background: rgba(102, 126, 234, 0.05);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
      }

      /* Loading Animation */
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .animate-pulse {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }

      /* Subscription Badge */
      .subscription-badge {
        animation: slideInDown 0.5s ease;
      }

      @keyframes slideInDown {
        from {
          transform: translateY(-100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
    </style>
    <style>
      @view-transition {
        navigation: auto;
      }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="app" class="min-h-full flex flex-col">
      <!-- Navigation -->
      <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <svg class="w-10 h-10" viewbox="0 0 40 40" fill="none">
                <rect width="40" height="40" rx="8" fill="#667eea" />
                <path
                  d="M12 28L16 20L20 24L28 12"
                  stroke="white"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <circle cx="25" cy="15" r="2" fill="white" />
              </svg>
              <div>
                <h1 id="site-title" class="text-xl font-bold text-gray-900">
                  PNG Gallery Pro
                </h1>
                <p id="tagline" class="text-xs text-gray-500">
                  Professional Asset Platform
                </p>
              </div>
            </div>
            <div class="flex items-center space-x-6">
              <button
                class="nav-link text-gray-700 hover:text-gray-900 font-medium"
                data-tab="home"
              >
                Beranda
              </button>
              <button
                class="nav-link text-gray-700 hover:text-gray-900 font-medium"
                data-tab="explore"
              >
                Jelajahi
              </button>
              <button
                class="nav-link text-gray-700 hover:text-gray-900 font-medium"
                data-tab="pricing"
              >
                Harga
              </button>
              <button
                class="nav-link text-gray-700 hover:text-gray-900 font-medium"
                data-tab="creators"
              >
                Kreator
              </button>
              <button
                class="nav-link text-gray-700 hover:text-gray-900 font-medium relative"
                data-tab="downloads"
              >
                Unduhan
                <span
                  id="download-count-badge"
                  class="hidden absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"
                  >0</span
                >
              </button>
              <button
                id="login-btn"
                class="text-gray-700 hover:text-gray-900 font-medium"
              >
                Masuk
              </button>
              <button
                id="signup-btn"
                class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium"
              >
                Daftar
              </button>
            </div>
          </div>
        </nav>
      </header>
      <!-- Main Content -->
      <main id="main-content">
        <!-- HOME TAB -->
        <div id="home-tab" class="tab-content">
          <!-- Hero Section -->
          <section class="gradient-bg text-white py-20 px-4">
            <div class="max-w-6xl mx-auto text-center">
              <h2 id="hero-heading" class="text-5xl md:text-6xl font-bold mb-6">
                Millions of High-Quality PNG Assets
              </h2>
              <p
                id="hero-description"
                class="text-xl mb-8 text-purple-100 max-w-3xl mx-auto"
              >
                Find the perfect transparent PNG images for your projects.
                Download royalty-free graphics, illustrations, icons, and more.
              </p>
              <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12">
                <button
                  id="cta-primary"
                  class="bg-white text-purple-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition"
                >
                  Get Started Free
                </button>
                <button
                  id="cta-secondary"
                  class="glass-effect text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-white hover:bg-opacity-20 transition"
                >
                  Explore Premium
                </button>
              </div>
              <!-- Search Bar -->
              <form id="hero-search-form" class="max-w-3xl mx-auto">
                <div
                  class="bg-white rounded-full shadow-2xl p-2 flex items-center"
                >
                  <svg
                    class="w-6 h-6 text-gray-400 ml-4"
                    fill="none"
                    stroke="currentColor"
                    viewbox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                    /></svg
                  ><input
                    id="hero-search-input"
                    type="text"
                    class="flex-1 px-4 py-3 text-gray-900 bg-transparent border-none outline-none"
                    placeholder="Cari jutaan aset PNG..."
                  />
                  <button
                    type="button"
                    id="reverse-search-btn"
                    class="mx-2 p-2 hover:bg-gray-100 rounded-full"
                    title="Pencarian Gambar Terbalik"
                  >
                    <svg
                      class="w-6 h-6 text-gray-600"
                      fill="none"
                      stroke="currentColor"
                      viewbox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                      />
                    </svg>
                  </button>
                  <button
                    type="submit"
                    class="bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-full font-medium"
                  >
                    Cari
                  </button>
                </div>
              </form>
              <!-- Popular Tags -->
              <div class="mt-8 flex flex-wrap justify-center gap-3">
                <span class="text-sm text-purple-200">Sedang Tren:</span>
                <button
                  class="trending-tag glass-effect text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:bg-opacity-20"
                  data-tag="bisnis"
                >
                  Bisnis
                </button>
                <button
                  class="trending-tag glass-effect text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:bg-opacity-20"
                  data-tag="teknologi"
                >
                  Teknologi
                </button>
                <button
                  class="trending-tag glass-effect text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:bg-opacity-20"
                  data-tag="alam"
                >
                  Alam
                </button>
                <button
                  class="trending-tag glass-effect text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:bg-opacity-20"
                  data-tag="abstrak"
                >
                  Abstrak
                </button>
                <button
                  class="trending-tag glass-effect text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:bg-opacity-20"
                  data-tag="ilustrasi"
                >
                  Ilustrasi
                </button>
              </div>
            </div>
          </section>
          <!-- Stats Section -->
          <section class="section bg-white">
            <div class="max-w-7xl mx-auto px-4">
              <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div class="stat-card">
                  <div class="stat-number">50Jt+</div>
                  <div class="text-gray-600 font-medium">Aset</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number">2Jt+</div>
                  <div class="text-gray-600 font-medium">Pengguna</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number">100K+</div>
                  <div class="text-gray-600 font-medium">Kreator</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number">500K+</div>
                  <div class="text-gray-600 font-medium">Unduhan Harian</div>
                </div>
              </div>
            </div>
          </section>
          <!-- Featured Collections -->
          <section class="section bg-gray-50">
            <div class="max-w-7xl mx-auto px-4">
              <h2 class="text-4xl font-bold text-gray-900 mb-4 text-center">
                Koleksi Pilihan
              </h2>
              <p class="text-gray-600 text-center mb-12">
                Koleksi terkurasi untuk proyek kreatif Anda
              </p>
              <div
                class="grid grid-cols-1 md:grid-cols-3 gap-8"
                id="featured-collections"
              >
                <!-- Collections will be generated here -->
              </div>
            </div>
          </section>
          <!-- Asset Types -->
          <section class="section bg-white">
            <div class="max-w-7xl mx-auto px-4">
              <h2 class="text-4xl font-bold text-gray-900 mb-12 text-center">
                Telusuri Berdasarkan Jenis
              </h2>
              <div
                class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6"
                id="asset-types"
              >
                <!-- Asset types will be generated here -->
              </div>
            </div>
          </section>
          <!-- Features -->
          <section class="section gradient-bg text-white">
            <div class="max-w-7xl mx-auto px-4">
              <h2 class="text-4xl font-bold mb-4 text-center">
                Mengapa Memilih PNG Gallery Pro?
              </h2>
              <p class="text-purple-100 text-center mb-12">
                Semua yang Anda butuhkan untuk proyek kreatif Anda
              </p>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                  <div class="feature-icon glass-effect mx-auto">üîç</div>
                  <h3 class="text-xl font-bold mb-2">Pencarian Canggih</h3>
                  <p class="text-purple-100">
                    Filter lanjutan, pencarian gambar terbalik, dan rekomendasi
                    berbasis AI
                  </p>
                </div>
                <div class="text-center">
                  <div class="feature-icon glass-effect mx-auto">‚ö°</div>
                  <h3 class="text-xl font-bold mb-2">Unduhan Instan</h3>
                  <p class="text-purple-100">
                    Unduhan berkecepatan tinggi dengan berbagai pilihan format
                  </p>
                </div>
                <div class="text-center">
                  <div class="feature-icon glass-effect mx-auto">‚úÖ</div>
                  <h3 class="text-xl font-bold mb-2">Lisensi Jelas</h3>
                  <p class="text-purple-100">
                    Lisensi sederhana dan transparan untuk penggunaan pribadi
                    dan komersial
                  </p>
                </div>
                <div class="text-center">
                  <div class="feature-icon glass-effect mx-auto">üìö</div>
                  <h3 class="text-xl font-bold mb-2">Koleksi Terorganisir</h3>
                  <p class="text-purple-100">
                    Buat moodboard dan kelola aset favorit Anda
                  </p>
                </div>
                <div class="text-center">
                  <div class="feature-icon glass-effect mx-auto">üé®</div>
                  <h3 class="text-xl font-bold mb-2">Integrasi Alat</h3>
                  <p class="text-purple-100">
                    Plugin untuk Photoshop, Figma, dan lainnya
                  </p>
                </div>
                <div class="text-center">
                  <div class="feature-icon glass-effect mx-auto">üíé</div>
                  <h3 class="text-xl font-bold mb-2">Kualitas Premium</h3>
                  <p class="text-purple-100">
                    Aset pilihan tangan dari kreator profesional
                  </p>
                </div>
              </div>
            </div>
          </section>
        </div>
        <!-- EXPLORE TAB -->
        <div id="explore-tab" class="tab-content hidden">
          <section class="py-8 px-4 bg-white border-b">
            <div class="max-w-7xl mx-auto">
              <!-- Advanced Search -->
              <div class="mb-6">
                <div class="flex gap-4 items-center">
                  <div class="flex-1 relative">
                    <svg
                      class="w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"
                      fill="none"
                      stroke="currentColor"
                      viewbox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                      /></svg
                    ><input
                      id="explore-search"
                      type="text"
                      class="w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-600 focus:outline-none"
                      placeholder="Cari aset..."
                    />
                  </div>
                  <button
                    id="advanced-filter-btn"
                    class="px-6 py-3 border-2 border-gray-200 rounded-lg hover:border-purple-600 font-medium flex items-center gap-2"
                  >
                    <svg
                      class="w-5 h-5"
                      fill="none"
                      stroke="currentColor"
                      viewbox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"
                      />
                    </svg>
                    Filter
                  </button>
                </div>
              </div>
              <!-- Filter Pills -->
              <div class="flex flex-wrap gap-3 mb-6">
                <button
                  class="filter-pill px-4 py-2 bg-purple-600 text-white rounded-full text-sm font-medium"
                  data-filter="all"
                  data-subfilter="all"
                >
                  Semua
                </button>
                <button
                  class="filter-pill px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200"
                  data-filter="photo"
                  data-subfilter="all"
                >
                  Foto
                </button>
                <button
                  class="filter-pill px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200"
                  data-filter="vector"
                  data-subfilter="all"
                >
                  Vektor
                </button>
                <button
                  class="filter-pill px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200"
                  data-filter="illustration"
                  data-subfilter="all"
                >
                  Ilustrasi
                </button>
                <button
                  class="filter-pill px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200"
                  data-filter="png"
                  data-subfilter="all"
                >
                  PNG
                </button>
                <button
                  class="filter-pill px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200"
                  data-filter="icon"
                  data-subfilter="all"
                >
                  Ikon
                </button>
                <button
                  class="filter-pill px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200"
                  data-filter="psd"
                  data-subfilter="all"
                >
                  PSD
                </button>
              </div>

              <!-- Subcategory Pills (akan muncul ketika kategori dipilih) -->
              <div
                id="subcategory-pills"
                class="flex flex-wrap gap-2 mb-6 hidden"
              >
                <span class="text-sm text-gray-600 mr-2">Subkategori:</span>
                <!-- Subcategories akan di-generate secara dinamis -->
              </div>
              <!-- Sort Options -->
              <div class="flex justify-between items-center">
                <p id="explore-result-count" class="text-gray-600">
                  Menampilkan semua aset
                </p>
                <div class="flex gap-2">
                  <select
                    id="sort-select"
                    class="px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-purple-600"
                  >
                    <option value="popular">Paling Populer</option>
                    <option value="newest">Terbaru</option>
                    <option value="downloads">Paling Banyak Diunduh</option>
                    <option value="likes">Paling Disukai</option>
                  </select>
                  <button
                    id="grid-view-btn"
                    class="p-2 border border-gray-200 rounded-lg hover:bg-gray-50"
                  >
                    <svg
                      class="w-5 h-5"
                      fill="currentColor"
                      viewbox="0 0 20 20"
                    >
                      <path
                        d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM13 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2z"
                      />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </section>
          <!-- Gallery Grid -->
          <section class="py-8 px-4 bg-gray-50">
            <div class="max-w-7xl mx-auto">
              <div
                id="explore-gallery"
                class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"
              >
                <!-- Gallery items will be generated here -->
              </div>
            </div>
          </section>
          <!-- Advanced Filter Modal -->
          <div id="advanced-filter-modal" class="modal-overlay hidden">
            <div class="modal-content">
              <div class="p-6 border-b flex justify-between items-center">
                <h3 class="text-2xl font-bold">Advanced Filters</h3>
                <button
                  id="close-filter-modal"
                  class="text-gray-400 hover:text-gray-600"
                >
                  <svg
                    class="w-6 h-6"
                    fill="none"
                    stroke="currentColor"
                    viewbox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M6 18L18 6M6 6l12 12"
                    />
                  </svg>
                </button>
              </div>
              <div class="p-6 space-y-6">
                <div>
                  <h4 class="font-semibold mb-3">Orientation</h4>
                  <div class="flex gap-2">
                    <button
                      class="orientation-btn px-4 py-2 border-2 border-purple-600 bg-purple-50 text-purple-600 rounded-lg font-medium"
                      data-orientation="all"
                    >
                      All
                    </button>
                    <button
                      class="orientation-btn px-4 py-2 border-2 border-gray-200 rounded-lg font-medium hover:border-purple-600"
                      data-orientation="horizontal"
                    >
                      Horizontal
                    </button>
                    <button
                      class="orientation-btn px-4 py-2 border-2 border-gray-200 rounded-lg font-medium hover:border-purple-600"
                      data-orientation="vertical"
                    >
                      Vertical
                    </button>
                    <button
                      class="orientation-btn px-4 py-2 border-2 border-gray-200 rounded-lg font-medium hover:border-purple-600"
                      data-orientation="square"
                    >
                      Square
                    </button>
                  </div>
                </div>
                <div>
                  <h4 class="font-semibold mb-3">Colors</h4>
                  <div class="grid grid-cols-8 gap-3">
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="all"
                      style="
                        background: linear-gradient(
                          135deg,
                          #667eea 0%,
                          #764ba2 100%
                        );
                      "
                    ></button>
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="red"
                      style="background: #ef4444"
                    ></button>
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="blue"
                      style="background: #3b82f6"
                    ></button>
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="green"
                      style="background: #10b981"
                    ></button>
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="yellow"
                      style="background: #fbbf24"
                    ></button>
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="purple"
                      style="background: #8b5cf6"
                    ></button>
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="pink"
                      style="background: #ec4899"
                    ></button>
                    <button
                      class="color-btn w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-purple-600"
                      data-color="black"
                      style="background: #1f2937"
                    ></button>
                  </div>
                </div>
                <div>
                  <h4 class="font-semibold mb-3">License Type</h4>
                  <div class="space-y-2">
                    <label class="flex items-center gap-3 cursor-pointer">
                      <input
                        type="checkbox"
                        class="w-5 h-5 text-purple-600"
                        checked
                      />
                      <span>Free License (with attribution)</span>
                    </label>
                    <label class="flex items-center gap-3 cursor-pointer">
                      <input type="checkbox" class="w-5 h-5 text-purple-600" />
                      <span>Premium License (royalty-free)</span>
                    </label>
                  </div>
                </div>
                <div>
                  <h4 class="font-semibold mb-3">File Size</h4>
                  <div class="space-y-2">
                    <label class="flex items-center gap-3 cursor-pointer">
                      <input
                        type="radio"
                        name="filesize"
                        class="w-5 h-5 text-purple-600"
                        checked
                      />
                      <span>All Sizes</span>
                    </label>
                    <label class="flex items-center gap-3 cursor-pointer">
                      <input
                        type="radio"
                        name="filesize"
                        class="w-5 h-5 text-purple-600"
                      />
                      <span>Small (&lt; 1MB)</span>
                    </label>
                    <label class="flex items-center gap-3 cursor-pointer">
                      <input
                        type="radio"
                        name="filesize"
                        class="w-5 h-5 text-purple-600"
                      />
                      <span>Medium (1-5MB)</span>
                    </label>
                    <label class="flex items-center gap-3 cursor-pointer">
                      <input
                        type="radio"
                        name="filesize"
                        class="w-5 h-5 text-purple-600"
                      />
                      <span>Large (&gt; 5MB)</span>
                    </label>
                  </div>
                </div>
                <!-- Subcategory Filter Section -->
                <div>
                  <h4 class="font-semibold mb-3">Subcategory</h4>
                  <select
                    id="subcategory-select"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                  >
                    <option value="all">All Subcategories</option>
                    <optgroup label="Photos">
                      <option value="photo-Nature">Nature</option>
                      <option value="photo-People">People</option>
                      <option value="photo-Business">Business</option>
                      <option value="photo-Technology">Technology</option>
                      <option value="photo-Food">Food</option>
                      <option value="photo-Travel">Travel</option>
                    </optgroup>
                    <optgroup label="Vectors">
                      <option value="vector-Abstract">Abstract</option>
                      <option value="vector-Business">Business</option>
                      <option value="vector-Nature">Nature</option>
                      <option value="vector-Technology">Technology</option>
                      <option value="vector-Education">Education</option>
                      <option value="vector-Healthcare">Healthcare</option>
                    </optgroup>
                    <optgroup label="Illustrations">
                      <option value="illustration-Cartoon">Cartoon</option>
                      <option value="illustration-Abstract">Abstract</option>
                      <option value="illustration-Business">Business</option>
                      <option value="illustration-Nature">Nature</option>
                      <option value="illustration-Education">Education</option>
                      <option value="illustration-Fantasy">Fantasy</option>
                    </optgroup>
                    <optgroup label="PNG">
                      <option value="png-Objects">Objects</option>
                      <option value="png-People">People</option>
                      <option value="png-Nature">Nature</option>
                      <option value="png-Icons">Icons</option>
                      <option value="png-Backgrounds">Backgrounds</option>
                      <option value="png-Elements">Elements</option>
                    </optgroup>
                    <optgroup label="Icons">
                      <option value="icon-Business">Business</option>
                      <option value="icon-Technology">Technology</option>
                      <option value="icon-Social">Social</option>
                      <option value="icon-Education">Education</option>
                      <option value="icon-Healthcare">Healthcare</option>
                      <option value="icon-Transportation">
                        Transportation
                      </option>
                    </optgroup>
                    <optgroup label="PSD Files">
                      <option value="psd-Templates">Templates</option>
                      <option value="psd-UI Kits">UI Kits</option>
                      <option value="psd-Mockups">Mockups</option>
                      <option value="psd-Social Media">Social Media</option>
                      <option value="psd-Presentation">Presentation</option>
                      <option value="psd-Print">Print</option>
                    </optgroup>
                  </select>
                </div>
              </div>
              <div class="p-6 border-t flex gap-3 justify-end">
                <button
                  id="reset-filters"
                  class="px-6 py-2 border border-gray-200 rounded-lg font-medium hover:bg-gray-50"
                >
                  Reset
                </button>
                <button
                  id="apply-filters"
                  class="px-6 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700"
                >
                  Apply Filters
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- PRICING TAB -->
        <div id="pricing-tab" class="tab-content hidden">
          <section class="section bg-gray-50">
            <div class="max-w-7xl mx-auto px-4">
              <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">
                  Harga Sederhana dan Transparan
                </h2>
                <p class="text-xl text-gray-600">
                  Pilih paket yang sempurna untuk kebutuhan kreatif Anda
                </p>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Free Plan -->
                <div class="pricing-card bg-white">
                  <h3 class="text-2xl font-bold mb-2">Gratis</h3>
                  <div class="mb-6">
                    <span class="text-4xl font-bold">Rp0</span>
                    <span class="text-gray-600">/bulan</span>
                  </div>
                  <ul class="space-y-3 mb-8">
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>10 unduhan per bulan</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Resolusi standar</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Atribusi diperlukan</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Koleksi dasar</span>
                    </li>
                  </ul>
                  <button
                    class="w-full py-3 border-2 border-purple-600 text-purple-600 rounded-lg font-bold hover:bg-purple-50"
                  >
                    Mulai Sekarang
                  </button>
                </div>
                <!-- Pro Plan -->
                <div class="pricing-card featured bg-white relative">
                  <div
                    class="absolute top-0 right-0 bg-purple-600 text-white px-4 py-1 rounded-bl-lg rounded-tr-lg text-sm font-bold"
                  >
                    Populer
                  </div>
                  <h3 class="text-2xl font-bold mb-2">Pro</h3>
                  <div class="mb-6">
                    <span class="text-4xl font-bold">Rp6.000</span>
                    <span class="text-gray-600">/bulan</span>
                  </div>
                  <ul class="space-y-3 mb-8">
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Unduhan tak terbatas</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Resolusi tinggi (4K)</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Tanpa atribusi</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Koleksi premium</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Dukungan prioritas</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Integrasi alat</span>
                    </li>
                  </ul>
                  <button
                    class="w-full py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
                  >
                    Upgrade ke Pro
                  </button>
                </div>
                <!-- Team Plan -->
                <div class="pricing-card bg-white">
                  <h3 class="text-2xl font-bold mb-2">Tim</h3>
                  <div class="mb-6">
                    <span class="text-4xl font-bold">Rp12.000</span>
                    <span class="text-gray-600">/bulan</span>
                  </div>
                  <ul class="space-y-3 mb-8">
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Semua fitur Pro</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>5 anggota tim</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Koleksi bersama</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Manajemen tim</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Analitik lanjutan</span>
                    </li>
                    <li class="flex items-start gap-2">
                      <span class="text-green-500 mt-1">‚úì</span>
                      <span>Dukungan khusus</span>
                    </li>
                  </ul>
                  <button
                    class="w-full py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
                  >
                    Upgrade ke Tim
                  </button>
                </div>
              </div>
              <!-- FAQ Section -->
              <div class="mt-20">
                <h3 class="text-3xl font-bold text-center mb-8">
                  Frequently Asked Questions
                </h3>
                <div class="max-w-3xl mx-auto space-y-4">
                  <details class="bg-white p-6 rounded-lg">
                    <summary class="font-semibold cursor-pointer">
                      What's included in the free plan?
                    </summary>
                    <p class="mt-3 text-gray-600">
                      The free plan includes 10 downloads per month with
                      standard resolution. Attribution is required for free
                      assets.
                    </p>
                  </details>
                  <details class="bg-white p-6 rounded-lg">
                    <summary class="font-semibold cursor-pointer">
                      Can I cancel anytime?
                    </summary>
                    <p class="mt-3 text-gray-600">
                      Yes, you can cancel your subscription at any time. Your
                      access will continue until the end of your billing period.
                    </p>
                  </details>
                  <details class="bg-white p-6 rounded-lg">
                    <summary class="font-semibold cursor-pointer">
                      What's the difference between licenses?
                    </summary>
                    <p class="mt-3 text-gray-600">
                      Free assets require attribution, while premium licenses
                      are royalty-free with no attribution required for
                      commercial use.
                    </p>
                  </details>
                  <details class="bg-white p-6 rounded-lg">
                    <summary class="font-semibold cursor-pointer">
                      Do you offer enterprise plans?
                    </summary>
                    <p class="mt-3 text-gray-600">
                      Yes! Contact our sales team for custom enterprise
                      solutions with advanced features and dedicated support.
                    </p>
                  </details>
                </div>
              </div>
            </div>
          </section>
        </div>
        <!-- ADMIN TAB -->
        <div id="admin-tab" class="tab-content hidden">
          <section class="gradient-bg text-white py-12 px-4">
            <div class="max-w-7xl mx-auto">
              <div class="flex items-center justify-between">
                <div>
                  <h2 class="text-4xl font-bold mb-2">Admin Dashboard</h2>
                  <p class="text-purple-100">
                    Manage your platform and monitor performance
                  </p>
                </div>
                <button
                  onclick="logoutAdmin()"
                  class="bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-3 rounded-lg font-medium flex items-center gap-2"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    stroke="currentColor"
                    viewbox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                    />
                  </svg>
                  Logout
                </button>
              </div>
            </div>
          </section>
          <section class="py-8 px-4 bg-gray-50">
            <div class="max-w-7xl mx-auto">
              <!-- Stats Overview -->
              <div
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
              >
                <div class="bg-white rounded-xl p-6 shadow-md">
                  <div class="flex items-center justify-between mb-4">
                    <div class="text-3xl">üë•</div>
                    <span class="text-green-500 text-sm font-semibold"
                      >+12.5%</span
                    >
                  </div>
                  <div class="text-gray-600 text-sm">Total Users</div>
                  <div
                    class="text-3xl font-bold text-gray-900"
                    id="admin-total-users"
                  >
                    2,456,789
                  </div>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-md">
                  <div class="flex items-center justify-between mb-4">
                    <div class="text-3xl">üìÅ</div>
                    <span class="text-green-500 text-sm font-semibold"
                      >+8.3%</span
                    >
                  </div>
                  <div class="text-gray-600 text-sm">Total Assets</div>
                  <div
                    class="text-3xl font-bold text-gray-900"
                    id="admin-total-assets"
                  >
                    50,234,567
                  </div>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-md">
                  <div class="flex items-center justify-between mb-4">
                    <div class="text-3xl">‚¨áÔ∏è</div>
                    <span class="text-green-500 text-sm font-semibold"
                      >+15.7%</span
                    >
                  </div>
                  <div class="text-gray-600 text-sm">Downloads Today</div>
                  <div
                    class="text-3xl font-bold text-gray-900"
                    id="admin-downloads-today"
                  >
                    523,456
                  </div>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-md">
                  <div class="flex items-center justify-between mb-4">
                    <div class="text-3xl">üí∞</div>
                    <span class="text-green-500 text-sm font-semibold"
                      >+22.1%</span
                    >
                  </div>
                  <div class="text-gray-600 text-sm">Revenue (Month)</div>
                  <div
                    class="text-3xl font-bold text-gray-900"
                    id="admin-revenue"
                  >
                    $485,230
                  </div>
                </div>
              </div>
              <!-- Quick Actions -->
              <div class="bg-white rounded-xl p-6 shadow-md mb-8">
                <h3 class="text-xl font-bold mb-4">Quick Actions</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                  <button
                    onclick="showAdminAction('users')"
                    class="p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 hover:bg-purple-50 text-center transition"
                  >
                    <div class="text-3xl mb-2">üë§</div>
                    <div class="font-semibold">Manage Users</div>
                  </button>
                  <button
                    onclick="openUploadAssetModal()"
                    class="p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 hover:bg-purple-50 text-center transition"
                  >
                    <div class="text-3xl mb-2">üì§</div>
                    <div class="font-semibold">Upload Asset</div>
                  </button>
                  <button
                    onclick="openEditContentModal()"
                    class="p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 hover:bg-purple-50 text-center transition"
                  >
                    <div class="text-3xl mb-2">‚úèÔ∏è</div>
                    <div class="font-semibold">Edit Content</div>
                  </button>
                  <button
                    onclick="showAdminAction('reports')"
                    class="p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 hover:bg-purple-50 text-center transition"
                  >
                    <div class="text-3xl mb-2">üìä</div>
                    <div class="font-semibold">Analytics</div>
                  </button>
                </div>
              </div>
              <!-- Asset Management -->
              <div class="bg-white rounded-xl p-6 shadow-md mb-8">
                <div class="flex items-center justify-between mb-4">
                  <h3 class="text-xl font-bold">
                    Asset Management - All Assets
                  </h3>
                  <button
                    onclick="openUploadAssetModal()"
                    class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2"
                  >
                    <svg
                      class="w-5 h-5"
                      fill="none"
                      stroke="currentColor"
                      viewbox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 4v16m8-8H4"
                      />
                    </svg>
                    Upload New Asset
                  </button>
                </div>
                <p id="admin-assets-count" class="text-gray-600 text-sm mb-4">
                  Manage all assets in the gallery. Click edit to modify or
                  delete to remove.
                </p>
                <div
                  id="admin-assets-grid"
                  class="grid grid-cols-2 md:grid-cols-4 gap-4"
                >
                  <!-- Admin assets will be generated here -->
                </div>
              </div>
              <!-- Recent Activity -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl p-6 shadow-md">
                  <h3 class="text-xl font-bold mb-4">
                    Recent User Registrations
                  </h3>
                  <div id="admin-recent-users" class="space-y-3">
                    <!-- Generated content -->
                  </div>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-md">
                  <h3 class="text-xl font-bold mb-4">Pending Asset Reviews</h3>
                  <div id="admin-pending-assets" class="space-y-3">
                    <!-- Generated content -->
                  </div>
                </div>
              </div>
              <!-- System Status -->
              <div class="mt-8 bg-white rounded-xl p-6 shadow-md">
                <h3 class="text-xl font-bold mb-4">System Status</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <div>
                    <div class="flex items-center justify-between mb-2">
                      <span class="text-gray-600">Server Load</span>
                      <span class="text-green-600 font-semibold">Normal</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                      <div
                        class="bg-green-500 h-3 rounded-full"
                        style="width: 45%"
                      ></div>
                    </div>
                    <div class="text-sm text-gray-500 mt-1">
                      45% utilization
                    </div>
                  </div>
                  <div>
                    <div class="flex items-center justify-between mb-2">
                      <span class="text-gray-600">Storage Used</span>
                      <span class="text-yellow-600 font-semibold"
                        >Moderate</span
                      >
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                      <div
                        class="bg-yellow-500 h-3 rounded-full"
                        style="width: 72%"
                      ></div>
                    </div>
                    <div class="text-sm text-gray-500 mt-1">7.2 TB / 10 TB</div>
                  </div>
                  <div>
                    <div class="flex items-center justify-between mb-2">
                      <span class="text-gray-600">API Response Time</span>
                      <span class="text-green-600 font-semibold"
                        >Excellent</span
                      >
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                      <div
                        class="bg-green-500 h-3 rounded-full"
                        style="width: 95%"
                      ></div>
                    </div>
                    <div class="text-sm text-gray-500 mt-1">Avg. 124ms</div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
        <!-- DOWNLOADS TAB -->
        <div id="downloads-tab" class="tab-content hidden">
          <section class="gradient-bg text-white py-16 px-4">
            <div class="max-w-4xl mx-auto text-center">
              <h2 class="text-4xl font-bold mb-4">üì• Riwayat Download</h2>
              <p class="text-xl text-purple-100">
                Semua file yang pernah Anda download tersimpan di sini
              </p>
            </div>
          </section>
          <section class="py-8 px-4 bg-gray-50">
            <div class="max-w-7xl mx-auto">
              <div class="bg-white rounded-xl p-6 shadow-md mb-6">
                <div class="flex items-center justify-between mb-4">
                  <div>
                    <h3 class="text-2xl font-bold">Riwayat Download Pribadi</h3>
                    <p class="text-gray-600" id="download-history-count">
                      Anda memiliki 0 file dalam riwayat
                    </p>
                  </div>
                  <button
                    onclick="clearDownloadHistory()"
                    class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center gap-2"
                  >
                    <svg
                      class="w-5 h-5"
                      fill="none"
                      stroke="currentColor"
                      viewbox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                      />
                    </svg>
                    Hapus Semua
                  </button>
                </div>
              </div>
              <div
                id="download-history-grid"
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
              >
                <!-- Download history will be generated here -->
              </div>
              <div id="download-empty-state" class="hidden text-center py-20">
                <div class="text-6xl mb-4">üì≠</div>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">
                  Belum Ada Download
                </h3>
                <p class="text-gray-600 mb-6">
                  Mulai download aset favorit Anda dari galeri
                </p>
                <button
                  onclick="switchTab('explore')"
                  class="px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
                >
                  Jelajahi Galeri
                </button>
              </div>
            </div>
          </section>
        </div>
        <!-- CREATORS TAB -->
        <div id="creators-tab" class="tab-content hidden">
          <section class="gradient-bg text-white py-16 px-4">
            <div class="max-w-4xl mx-auto text-center">
              <h2 class="text-4xl font-bold mb-4">
                Bergabung dengan Komunitas Kreator
              </h2>
              <p class="text-xl text-purple-100 mb-8">
                Bagikan karya Anda dengan jutaan pengguna dan hasilkan uang
              </p>
              <button
                id="become-creator-btn"
                class="bg-white text-purple-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100"
              >
                Jadi Kreator
              </button>
            </div>
          </section>
          <section class="section bg-white">
            <div class="max-w-7xl mx-auto px-4">
              <h3 class="text-3xl font-bold mb-8 text-center">
                Why Create With Us?
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                  <div class="text-5xl mb-4">üí∞</div>
                  <h4 class="text-xl font-bold mb-2">Earn Revenue</h4>
                  <p class="text-gray-600">
                    Get paid for every download of your assets. Up to 70%
                    revenue share.
                  </p>
                </div>
                <div class="text-center">
                  <div class="text-5xl mb-4">üåç</div>
                  <h4 class="text-xl font-bold mb-2">Global Reach</h4>
                  <p class="text-gray-600">
                    Your work seen by millions of users worldwide.
                  </p>
                </div>
                <div class="text-center">
                  <div class="text-5xl mb-4">üìä</div>
                  <h4 class="text-xl font-bold mb-2">Analytics</h4>
                  <p class="text-gray-600">
                    Track your performance with detailed analytics and insights.
                  </p>
                </div>
              </div>
            </div>
          </section>
          <section class="section bg-gray-50">
            <div class="max-w-7xl mx-auto px-4">
              <h3 class="text-3xl font-bold mb-8 text-center">
                Featured Creators
              </h3>
              <div
                id="featured-creators"
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"
              >
                <!-- Creators will be generated here -->
              </div>
            </div>
          </section>
          <section class="section bg-white">
            <div class="max-w-4xl mx-auto px-4">
              <h3 class="text-3xl font-bold mb-8 text-center">
                How to Get Started
              </h3>
              <div class="space-y-8">
                <div class="flex gap-6">
                  <div
                    class="flex-shrink-0 w-12 h-12 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold text-xl"
                  >
                    1
                  </div>
                  <div>
                    <h4 class="text-xl font-bold mb-2">Sign Up as Creator</h4>
                    <p class="text-gray-600">
                      Create your free creator account and set up your profile.
                    </p>
                  </div>
                </div>
                <div class="flex gap-6">
                  <div
                    class="flex-shrink-0 w-12 h-12 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold text-xl"
                  >
                    2
                  </div>
                  <div>
                    <h4 class="text-xl font-bold mb-2">Upload Your Work</h4>
                    <p class="text-gray-600">
                      Submit your high-quality assets following our guidelines.
                    </p>
                  </div>
                </div>
                <div class="flex gap-6">
                  <div
                    class="flex-shrink-0 w-12 h-12 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold text-xl"
                  >
                    3
                  </div>
                  <div>
                    <h4 class="text-xl font-bold mb-2">Get Approved</h4>
                    <p class="text-gray-600">
                      Our team reviews your submission (usually within 24
                      hours).
                    </p>
                  </div>
                </div>
                <div class="flex gap-6">
                  <div
                    class="flex-shrink-0 w-12 h-12 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold text-xl"
                  >
                    4
                  </div>
                  <div>
                    <h4 class="text-xl font-bold mb-2">Start Earning</h4>
                    <p class="text-gray-600">
                      Once approved, your assets go live and start earning
                      revenue.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </main>
      <!-- Footer -->
      <footer class="bg-gray-900 text-white py-12 px-4 mt-auto">
        <div class="max-w-7xl mx-auto">
          <div class="grid grid-cols-1 md:grid-cols-5 gap-8 mb-8">
            <div class="md:col-span-2">
              <div class="flex items-center space-x-3 mb-4">
                <svg class="w-10 h-10" viewbox="0 0 40 40" fill="none">
                  <rect width="40" height="40" rx="8" fill="#667eea" />
                  <path
                    d="M12 28L16 20L20 24L28 12"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <circle cx="25" cy="15" r="2" fill="white" />
                </svg>
                <div>
                  <div class="text-xl font-bold">PNG Gallery Pro</div>
                  <div class="text-sm text-gray-400">
                    Professional Asset Platform
                  </div>
                </div>
              </div>
              <p class="text-gray-400 text-sm">
                The world's best platform for high-quality PNG assets. Join
                millions of creators and users worldwide.
              </p>
            </div>
            <div>
              <h4 class="font-bold text-lg mb-4">Product</h4>
              <ul class="space-y-2 text-gray-400">
                <li><a href="#explore" class="hover:text-white">Explore</a></li>
                <li><a href="#pricing" class="hover:text-white">Pricing</a></li>
                <li>
                  <a href="#integrations" class="hover:text-white"
                    >Integrations</a
                  >
                </li>
                <li><a href="#api" class="hover:text-white">API</a></li>
              </ul>
            </div>
            <div>
              <h4 class="font-bold text-lg mb-4">Creators</h4>
              <ul class="space-y-2 text-gray-400">
                <li>
                  <a href="#become-creator" class="hover:text-white"
                    >Become a Creator</a
                  >
                </li>
                <li>
                  <a href="#creator-portal" class="hover:text-white"
                    >Creator Portal</a
                  >
                </li>
                <li>
                  <a href="#guidelines" class="hover:text-white">Guidelines</a>
                </li>
                <li>
                  <a href="#affiliate" class="hover:text-white"
                    >Affiliate Program</a
                  >
                </li>
              </ul>
            </div>
            <div>
              <h4 class="font-bold text-lg mb-4">Company</h4>
              <ul class="space-y-2 text-gray-400">
                <li><a href="#about" class="hover:text-white">About Us</a></li>
                <li><a href="#blog" class="hover:text-white">Blog</a></li>
                <li>
                  <a href="#help" class="hover:text-white">Help Center</a>
                </li>
                <li><a href="#contact" class="hover:text-white">Contact</a></li>
              </ul>
            </div>
          </div>
          <div
            class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center"
          >
            <p class="text-gray-400 text-sm mb-4 md:mb-0">
              ¬© 2024 PNG Gallery Pro. All rights reserved.
            </p>
            <div class="flex space-x-6 text-gray-400 text-sm">
              <a href="#terms" class="hover:text-white">Terms</a>
              <a href="#privacy" class="hover:text-white">Privacy</a>
              <a href="#license" class="hover:text-white">License</a>
              <a href="#cookies" class="hover:text-white">Cookies</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <!-- Asset Detail Modal -->
    <div id="asset-detail-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-5xl">
        <div id="asset-detail-content">
          <!-- Content will be generated dynamically -->
        </div>
      </div>
    </div>
    <!-- Login Modal -->
    <div id="login-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-md">
        <div class="p-8">
          <button
            onclick="closeLoginModal()"
            class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewbox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
          <h2 class="text-3xl font-bold mb-2 text-center">Welcome Back!</h2>
          <p class="text-gray-600 text-center mb-8">
            Log in to access your account
          </p>
          <form id="login-form" class="space-y-4">
            <div>
              <label
                for="login-email"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Email Address</label
              >
              <input
                type="email"
                id="login-email"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                placeholder="your@email.com"
                required
              />
            </div>
            <div>
              <label
                for="login-password"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Password</label
              >
              <input
                type="password"
                id="login-password"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                placeholder="Enter your password"
                required
              />
            </div>
            <div class="flex items-center justify-between">
              <label class="flex items-center gap-2">
                <input type="checkbox" class="w-4 h-4 text-purple-600" />
                <span class="text-sm text-gray-600">Remember me</span>
              </label>
              <a href="#" class="text-sm text-purple-600 hover:text-purple-700"
                >Forgot password?</a
              >
            </div>
            <button
              type="submit"
              class="w-full py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
            >
              Log In
            </button>
          </form>
          <div class="mt-6">
            <div class="relative">
              <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-gray-300"></div>
              </div>
              <div class="relative flex justify-center text-sm">
                <span class="px-2 bg-white text-gray-500"
                  >Or continue with</span
                >
              </div>
            </div>
            <div class="mt-6 grid grid-cols-2 gap-3">
              <button
                class="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium"
              >
                <svg class="w-5 h-5" viewbox="0 0 24 24">
                  <path
                    fill="#4285F4"
                    d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                  />
                  <path
                    fill="#34A853"
                    d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                  />
                  <path
                    fill="#FBBC05"
                    d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                  />
                  <path
                    fill="#EA4335"
                    d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                  />
                </svg>
                Google
              </button>
              <button
                class="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium"
              >
                <svg class="w-5 h-5" fill="#1877F2" viewbox="0 0 24 24">
                  <path
                    d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                  />
                </svg>
                Facebook
              </button>
            </div>
          </div>
          <p class="mt-8 text-center text-sm text-gray-600">
            Don't have an account?
            <button
              onclick="closeLoginModal(); showSignupModal();"
              class="text-purple-600 font-semibold hover:text-purple-700"
            >
              Sign up
            </button>
          </p>
        </div>
      </div>
    </div>
    <!-- Signup Modal -->
    <div id="signup-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-md">
        <div class="p-8">
          <button
            onclick="closeSignupModal()"
            class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewbox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
          <h2 class="text-3xl font-bold mb-2 text-center">Create Account</h2>
          <p class="text-gray-600 text-center mb-8">
            Join millions of creators worldwide
          </p>
          <form id="signup-form" class="space-y-4">
            <div>
              <label
                for="signup-name"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Full Name</label
              >
              <input
                type="text"
                id="signup-name"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                placeholder="John Doe"
                required
              />
            </div>
            <div>
              <label
                for="signup-email"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Email Address</label
              >
              <input
                type="email"
                id="signup-email"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                placeholder="your@email.com"
                required
              />
            </div>
            <div>
              <label
                for="signup-password"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Password</label
              >
              <input
                type="password"
                id="signup-password"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                placeholder="Create a strong password"
                required
              />
            </div>
            <div>
              <label class="flex items-start gap-2">
                <input
                  type="checkbox"
                  class="w-4 h-4 text-purple-600 mt-1"
                  required
                />
                <span class="text-sm text-gray-600"
                  >I agree to the
                  <a href="#" class="text-purple-600 hover:text-purple-700"
                    >Terms of Service</a
                  >
                  and
                  <a href="#" class="text-purple-600 hover:text-purple-700"
                    >Privacy Policy</a
                  ></span
                >
              </label>
            </div>
            <button
              type="submit"
              class="w-full py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
            >
              Create Account
            </button>
          </form>
          <div class="mt-6">
            <div class="relative">
              <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-gray-300"></div>
              </div>
              <div class="relative flex justify-center text-sm">
                <span class="px-2 bg-white text-gray-500">Or sign up with</span>
              </div>
            </div>
            <div class="mt-6 grid grid-cols-2 gap-3">
              <button
                class="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium"
              >
                <svg class="w-5 h-5" viewbox="0 0 24 24">
                  <path
                    fill="#4285F4"
                    d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                  />
                  <path
                    fill="#34A853"
                    d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                  />
                  <path
                    fill="#FBBC05"
                    d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                  />
                  <path
                    fill="#EA4335"
                    d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                  />
                </svg>
                Google
              </button>
              <button
                class="flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium"
              >
                <svg class="w-5 h-5" fill="#1877F2" viewbox="0 0 24 24">
                  <path
                    d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                  />
                </svg>
                Facebook
              </button>
            </div>
          </div>
          <p class="mt-8 text-center text-sm text-gray-600">
            Already have an account?
            <button
              onclick="closeSignupModal(); showLoginModal();"
              class="text-purple-600 font-semibold hover:text-purple-700"
            >
              Log in
            </button>
          </p>
        </div>
      </div>
    </div>
    <!-- Upload Asset Modal (Admin) -->
    <div id="upload-asset-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-2xl">
        <div class="p-8">
          <button
            onclick="closeUploadAssetModal()"
            class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewbox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
          <h2 class="text-3xl font-bold mb-2">Upload New Asset</h2>
          <p class="text-gray-600 mb-8">Add a new asset to the gallery</p>
          <form id="upload-asset-form" class="space-y-6">
            <!-- Image Upload Section -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Upload Image</label
              >
              <div
                id="image-upload-area"
                class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-purple-600 transition"
              >
                <input
                  type="file"
                  id="asset-image-input"
                  accept="image/*"
                  class="hidden"
                />
                <div id="upload-placeholder">
                  <svg
                    class="w-16 h-16 mx-auto text-gray-400 mb-4"
                    fill="none"
                    stroke="currentColor"
                    viewbox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                    />
                  </svg>
                  <p class="text-lg font-medium text-gray-700 mb-2">
                    Click to upload image
                  </p>
                  <p class="text-sm text-gray-500">PNG, JPG, GIF up to 10MB</p>
                </div>
                <div id="image-preview" class="hidden">
                  <img
                    id="preview-image"
                    class="max-w-full max-h-64 mx-auto rounded-lg mb-4"
                  />
                  <button
                    type="button"
                    onclick="removeUploadedImage()"
                    class="px-4 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600"
                  >
                    Remove Image
                  </button>
                </div>
              </div>
            </div>
            <div class="text-center text-gray-500 text-sm font-medium">OR</div>
            <div>
              <label
                for="asset-emoji"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Asset Icon (Emoji)</label
              >
              <input
                type="text"
                id="asset-emoji"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                placeholder="üé®"
                maxlength="2"
              />
              <p class="text-sm text-gray-500 mt-1">
                Enter an emoji to represent this asset (if no image uploaded)
              </p>
            </div>
            <div>
              <label
                for="asset-title"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Asset Title</label
              >
              <input
                type="text"
                id="asset-title"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                placeholder="e.g., Abstract Gradient"
                required
              />
            </div>
            <div>
              <label
                for="asset-type"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Asset Type</label
              >
              <select
                id="asset-type"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                required
              >
                <option value="photo">Photo</option>
                <option value="vector">Vector</option>
                <option value="illustration">Illustration</option>
                <option value="icon">Icon</option>
                <option value="png">Icon</option>
                <option value="psd">PSD</option>
              </select>
            </div>
            <div>
              <label class="flex items-center gap-2">
                <input
                  type="checkbox"
                  id="asset-premium"
                  class="w-5 h-5 text-purple-600"
                />
                <span class="text-sm font-medium text-gray-700"
                  >Premium Asset</span
                >
              </label>
            </div>
            <button
              type="submit"
              class="w-full py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
            >
              Upload Asset
            </button>
          </form>
        </div>
      </div>
    </div>
    <!-- Edit Content Modal (Admin) -->
    <div id="edit-content-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-4xl">
        <div class="p-8">
          <button
            onclick="closeEditContentModal()"
            class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewbox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
          <h2 class="text-3xl font-bold mb-2">Edit Site Content</h2>
          <p class="text-gray-600 mb-8">
            Manage all text content across the platform
          </p>
          <form id="edit-content-form" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="edit-site-title"
                  class="block text-sm font-medium text-gray-700 mb-2"
                  >Site Title</label
                >
                <input
                  type="text"
                  id="edit-site-title"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                  required
                />
              </div>
              <div>
                <label
                  for="edit-tagline"
                  class="block text-sm font-medium text-gray-700 mb-2"
                  >Tagline</label
                >
                <input
                  type="text"
                  id="edit-tagline"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                  required
                />
              </div>
            </div>
            <div>
              <label
                for="edit-hero-heading"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Hero Heading</label
              >
              <input
                type="text"
                id="edit-hero-heading"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                required
              />
            </div>
            <div>
              <label
                for="edit-hero-description"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Hero Description</label
              >
              <textarea
                id="edit-hero-description"
                rows="3"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                required
              ></textarea>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label
                  for="edit-cta-primary"
                  class="block text-sm font-medium text-gray-700 mb-2"
                  >Primary CTA Button</label
                >
                <input
                  type="text"
                  id="edit-cta-primary"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                  required
                />
              </div>
              <div>
                <label
                  for="edit-cta-secondary"
                  class="block text-sm font-medium text-gray-700 mb-2"
                  >Secondary CTA Button</label
                >
                <input
                  type="text"
                  id="edit-cta-secondary"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                  required
                />
              </div>
            </div>
            <div class="flex gap-4">
              <button
                type="button"
                onclick="closeEditContentModal()"
                class="flex-1 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="flex-1 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
              >
                Save Changes
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- Edit Asset Modal (Admin) -->
    <div id="edit-asset-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-2xl">
        <div class="p-8">
          <button
            onclick="closeEditAssetModal()"
            class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewbox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
          <h2 class="text-3xl font-bold mb-2">Edit Asset</h2>
          <p class="text-gray-600 mb-8">Update asset information</p>
          <form id="edit-asset-form" class="space-y-6">
            <input type="hidden" id="edit-asset-id" />
            <div>
              <label
                for="edit-asset-emoji"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Asset Icon (Emoji)</label
              >
              <input
                type="text"
                id="edit-asset-emoji"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                maxlength="2"
                required
              />
            </div>
            <div>
              <label
                for="edit-asset-title"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Asset Title</label
              >
              <input
                type="text"
                id="edit-asset-title"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                required
              />
            </div>
            <div>
              <label
                for="edit-asset-type"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Asset Type</label
              >
              <select
                id="edit-asset-type"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-600"
                required
              >
                <option value="photo">Photo</option>
                <option value="vector">Vector</option>
                <option value="illustration">Illustration</option>
                <option value="icon">Icon</option>
                <option value="png">Icon</option>
                <option value="psd">PSD</option>
              </select>
            </div>
            <div>
              <label class="flex items-center gap-2">
                <input
                  type="checkbox"
                  id="edit-asset-premium"
                  class="w-5 h-5 text-purple-600"
                />
                <span class="text-sm font-medium text-gray-700"
                  >Premium Asset</span
                >
              </label>
            </div>
            <div class="flex gap-4">
              <button
                type="button"
                onclick="closeEditAssetModal()"
                class="flex-1 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="flex-1 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700"
              >
                Save Changes
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- Tambahkan modal pembayaran setelah modal lainnya -->
    <div id="payment-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-md">
        <div class="p-8">
          <button
            onclick="closePaymentModal()"
            class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>

          <div class="text-center mb-6">
            <h2 class="text-2xl font-bold mb-2" id="payment-plan-title">
              Upgrade ke Pro
            </h2>
            <p class="text-gray-600" id="payment-plan-description">
              Rp6.000/bulan
            </p>
          </div>

          <!-- Pilihan Metode Pembayaran -->
          <div class="mb-6">
            <h3 class="font-semibold mb-3">Pilih Metode Pembayaran</h3>
            <div class="grid grid-cols-2 gap-3">
              <button
                onclick="selectPaymentMethod('paypal')"
                class="payment-method-btn p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 text-center transition"
                data-method="paypal"
              >
                <img
                  src="https://drive.google.com/thumbnail?id=1cvkTmLponttVA4phsA-MHVWdi4K8gu8-&sz=w200"
                  alt="PayPal"
                  class="payment-method-img"
                />
                <div class="text-sm font-medium">PayPal</div>
              </button>
              <button
                onclick="selectPaymentMethod('dana')"
                class="payment-method-btn p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 text-center transition"
                data-method="dana"
              >
                <img
                  src="https://drive.google.com/thumbnail?id=1INsFvEddZZXJvMzN4kA75y4MuJ3Wj4vW&sz=w200"
                  alt="DANA"
                  class="payment-method-img"
                />
                <div class="text-sm font-medium">DANA</div>
              </button>
              <button
                onclick="selectPaymentMethod('qris')"
                class="payment-method-btn p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 text-center transition"
                data-method="qris"
              >
                <img
                  src="https://drive.google.com/thumbnail?id=1fBO1ZilbMZhS1MR5NhH3ov_oN-Be_vsH&sz=w200"
                  alt="QRIS"
                  class="payment-method-img"
                />
                <div class="text-sm font-medium">QRIS</div>
              </button>
              <button
                onclick="selectPaymentMethod('gopay')"
                class="payment-method-btn p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 text-center transition"
                data-method="gopay"
              >
                <img
                  src="https://drive.google.com/thumbnail?id=1CLs08en2SlGwh4Kj28Doj9iL3PEL3NxL&sz=w200"
                  alt="GoPay"
                  class="payment-method-img"
                />
                <div class="text-sm font-medium">GoPay</div>
              </button>
              <button
                onclick="selectPaymentMethod('ovo')"
                class="payment-method-btn p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 text-center transition"
                data-method="ovo"
              >
                <img
                  src="https://drive.google.com/thumbnail?id=1S2lFf8Xb8E4zu0D3As2_f4iNWqSRxiKS&sz=w200"
                  alt="OVO"
                  class="payment-method-img"
                />
                <div class="text-sm font-medium">OVO</div>
              </button>
              <button
                onclick="selectPaymentMethod('credit_card')"
                class="payment-method-btn p-4 border-2 border-gray-200 rounded-lg hover:border-purple-600 text-center transition"
                data-method="credit_card"
              >
                <img
                  src="https://drive.google.com/thumbnail?id=1i-jNhDGJbBkUIgvURfmDFLTG8PDtWprv&sz=w200"
                  alt="Kartu Kredit"
                  class="payment-method-img"
                />
                <div class="text-sm font-medium">Kartu Kredit</div>
              </button>
            </div>
          </div>

          <!-- Form Data Pembayaran -->
          <form id="payment-form" class="space-y-4">
            <input type="hidden" id="selected-plan" name="plan" />
            <input type="hidden" id="selected-method" name="payment_method" />

            <div id="credit-card-fields" class="hidden space-y-3">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Nomor Kartu</label
                >
                <input
                  type="text"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                  placeholder="1234 5678 9012 3456"
                  maxlength="19"
                />
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Masa Berlaku</label
                  >
                  <input
                    type="text"
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                    placeholder="MM/YY"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >CVV</label
                  >
                  <input
                    type="text"
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                    placeholder="123"
                    maxlength="3"
                  />
                </div>
              </div>
            </div>

            <div
              id="qris-display"
              class="hidden text-center p-4 bg-gray-50 rounded-lg"
            >
              <div class="text-4xl mb-2">üì±</div>
              <p class="text-sm text-gray-600 mb-3">
                Scan QR code menggunakan aplikasi e-wallet atau mobile banking
                Anda
              </p>
              <div class="bg-white p-4 inline-block rounded-lg border-2">
                <!-- QR Code placeholder -->
                <div
                  class="w-48 h-48 bg-gray-200 flex items-center justify-center text-gray-500"
                >
                  QR Code akan muncul di sini
                </div>
              </div>
              <p class="text-xs text-gray-500 mt-3">
                QRIS akan expired dalam 15 menit
              </p>
            </div>

            <div
              id="ewallet-instruction"
              class="hidden p-4 bg-blue-50 rounded-lg"
            >
              <p class="text-sm text-blue-700" id="ewallet-text">
                Instruksi pembayaran akan muncul di sini
              </p>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >Email untuk Notifikasi</label
              >
              <input
                type="email"
                id="payment-email"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg"
                placeholder="email@anda.com"
                required
              />
            </div>

            <button
              type="submit"
              id="process-payment-btn"
              class="w-full py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 flex items-center justify-center gap-2"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                />
              </svg>
              Proses Pembayaran
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal Status Pembayaran -->
    <div id="payment-status-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-md">
        <div class="p-8 text-center">
          <div id="payment-status-icon" class="text-6xl mb-4">‚è≥</div>
          <h3 id="payment-status-title" class="text-2xl font-bold mb-4">
            Memproses Pembayaran
          </h3>
          <p id="payment-status-message" class="text-gray-600 mb-6">
            Sedang memverifikasi pembayaran Anda...
          </p>
          <div id="payment-success-content" class="hidden">
            <div
              class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6"
            >
              <p class="text-green-800 text-sm">
                Invoice dan detail akses telah dikirim ke email Anda
              </p>
            </div>
            <button
              onclick="closePaymentStatusModal()"
              class="w-full py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700"
            >
              Tutup
            </button>
          </div>
          <div id="payment-loading" class="flex justify-center">
            <div
              class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"
            ></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      const defaultConfig = {
        site_title: "PNG Gallery Pro",
        tagline: "Platform Aset Profesional",
        hero_heading: "Jutaan Aset PNG Berkualitas Tinggi",
        hero_description:
          "Temukan gambar PNG transparan sempurna untuk proyek Anda. Unduh grafis, ilustrasi, ikon bebas royalti, dan banyak lagi.",
        cta_primary: "Mulai Gratis",
        cta_secondary: "Jelajahi Premium",
        primary_color: "#667eea",
        secondary_color: "#764ba2",
        text_color: "#111827",
        background_color: "#f9fafb",
        card_color: "#ffffff",
      };

      let config = { ...defaultConfig };
      let currentTab = "home";
      let currentAssetFilter = "all";
      let exploreAssets = [];
      let downloadHistory = JSON.parse(
        localStorage.getItem("downloadHistory") || "[]"
      );
      let selectedResolution = "medium";
      let selectedFormat = "png";

      // Sample Data
      const featuredCollections = [
        {
          id: 1,
          title: " MUSIM PANAS",
          count: 250,
          thumb:
            "https://drive.google.com/thumbnail?id=1UH1Qvho6ozXOjmDy8R14g3ztt5EtjDpx&sz=w400",
          color: "#FFFBEB",
        },
        {
          id: 2,
          title: "BISNIS & TEKNOLOGI",
          count: 480,
          thumb:
            "https://drive.google.com/thumbnail?id=1iytfsLbz8UJq1hxH5FUd8LB02P-S0XBO&sz=w400",
          color: "#DBEAFE",
        },
        {
          id: 3,
          title: "SENI ABSTRAK",
          count: 320,
          thumb:
            "https://drive.google.com/thumbnail?id=1E8ueYyDjG-gRDUlvg4mb0evUdocY3HIb&sz=w400",
          color: "#F3E8FF",
        },
      ];

      const assetTypes = [
        {
          type: "photo",
          icon: "üì∑",
          label: "Photos",
          count: "20M+",
          subcategories: [
            "Nature",
            "People",
            "Business",
            "Technology",
            "Food",
            "Travel",
          ],
        },
        {
          type: "vector",
          icon: "‚úèÔ∏è",
          label: "Vectors",
          count: "15M+",
          subcategories: [
            "Abstract",
            "Business",
            "Nature",
            "Technology",
            "Education",
            "Healthcare",
          ],
        },
        {
          type: "illustration",
          icon: "üé®",
          label: "Illustrations",
          count: "8M+",
          subcategories: [
            "Cartoon",
            "Abstract",
            "Business",
            "Nature",
            "Education",
            "Fantasy",
          ],
        },
        {
          type: "png",
          icon: "üñºÔ∏è",
          label: "PNG",
          count: "12M+",
          subcategories: [
            "Objects",
            "People",
            "Nature",
            "Icons",
            "Backgrounds",
            "Elements",
          ],
        },
        {
          type: "icon",
          icon: "‚≠ê",
          label: "Icons",
          count: "5M+",
          subcategories: [
            "Business",
            "Technology",
            "Social",
            "Education",
            "Healthcare",
            "Transportation",
          ],
        },
        {
          type: "psd",
          icon: "üìÑ",
          label: "PSD Files",
          count: "2M+",
          subcategories: [
            "Templates",
            "UI Kits",
            "Mockups",
            "Social Media",
            "Presentation",
            "Print",
          ],
        },
      ];
      // Definisikan subcategories untuk setiap kategori
      const subcategories = {
        photo: [
          "Nature",
          "People",
          "Business",
          "Technology",
          "Food",
          "Travel",
          "Animals",
          "Architecture",
          "Sports",
          "Health",
          "Education",
          "Art",
          "Music",
        ],
        vector: [
          "Abstract",
          "Business",
          "Nature",
          "Technology",
          "Education",
          "Healthcare",
          "Finance",
          "Marketing",
          "Science",
          "Travel",
          "Food",
          "Sports",
        ],
        illustration: [
          "Cartoon",
          "Abstract",
          "Business",
          "Nature",
          "Education",
          "Fantasy",
          "Children",
          "Technology",
          "Medical",
          "Finance",
          "Travel",
          "Food",
        ],
        png: [
          "Objects",
          "People",
          "Nature",
          "Icons",
          "Backgrounds",
          "Elements",
          "Textures",
          "Animals",
          "Food",
          "Technology",
          "Business",
          "Education",
        ],
        icon: [
          "Business",
          "Technology",
          "Social",
          "Education",
          "Healthcare",
          "Transportation",
          "Finance",
          "Weather",
          "Food",
          "Sports",
          "Music",
          "Travel",
        ],
        psd: [
          "Templates",
          "UI Kits",
          "Mockups",
          "Social Media",
          "Presentation",
          "Print",
          "Web Design",
          "Mobile App",
          "Business Cards",
          "Flyers",
          "Logos",
          "Posters",
        ],
      };
      function generateTrendingTags() {
        const trendingContainer = document.querySelector(
          ".flex-wrap.justify-center.gap-3"
        );
        if (!trendingContainer) return;

        // Hapus tombol trending yang ada (kecuali teks "Sedang Tren:")
        const existingTags =
          trendingContainer.querySelectorAll(".trending-tag");
        existingTags.forEach((tag) => tag.remove());

        // Tambahkan tombol trending berdasarkan data trendingSubcategories
        trendingSubcategories.forEach((item) => {
          const button = document.createElement("button");
          button.className =
            "trending-tag glass-effect text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:bg-opacity-20";
          button.dataset.category = item.category;
          button.dataset.subcategory = item.subcategory;
          button.textContent = item.subcategory;

          button.addEventListener("click", () => {
            handleTrendingTagClick(item.category, item.subcategory);
          });

          trendingContainer.appendChild(button);
        });
      }
      // Tambahkan di bagian variabel global
      let currentFilters = {
        orientation: "all",
        color: "all",
        licenseTypes: ["free"],
        fileSize: "all",
        subcategory: "all",
      };
      function applyAllFilters() {
        let filteredAssets = [...sampleAssets];

        // Filter berdasarkan kategori utama
        if (currentCategory !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.type === currentCategory
          );
        }

        // Filter berdasarkan subkategori
        if (currentSubcategory !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.subcategory === currentSubcategory
          );
        }

        // Filter berdasarkan orientasi
        if (currentFilters.orientation !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.orientation === currentFilters.orientation
          );
        }

        // Filter berdasarkan warna
        if (currentFilters.color !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.color === currentFilters.color
          );
        }

        // Filter berdasarkan tipe lisensi
        if (currentFilters.licenseTypes.length > 0) {
          filteredAssets = filteredAssets.filter((asset) => {
            const isFree =
              !asset.premium && currentFilters.licenseTypes.includes("free");
            const isPremium =
              asset.premium && currentFilters.licenseTypes.includes("premium");
            return isFree || isPremium;
          });
        }

        // Filter berdasarkan ukuran file
        if (currentFilters.fileSize !== "all") {
          filteredAssets = filteredAssets.filter((asset) => {
            if (!asset.fileSize) return true;

            switch (currentFilters.fileSize) {
              case "small":
                return asset.fileSize < 1024 * 1024; // < 1MB
              case "medium":
                return (
                  asset.fileSize >= 1024 * 1024 &&
                  asset.fileSize < 5 * 1024 * 1024
                ); // 1-5MB
              case "large":
                return asset.fileSize >= 5 * 1024 * 1024; // > 5MB
              default:
                return true;
            }
          });
        }

        // Filter berdasarkan subkategori advanced
        if (currentFilters.subcategory !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.subcategory === currentFilters.subcategory
          );
        }

        // Terapkan pencarian jika ada
        const searchQuery = document
          .getElementById("explore-search")
          .value.toLowerCase()
          .trim();
        if (searchQuery) {
          filteredAssets = filteredAssets.filter(
            (asset) =>
              asset.title.toLowerCase().includes(searchQuery) ||
              (asset.subcategory &&
                asset.subcategory.toLowerCase().includes(searchQuery)) ||
              asset.type.toLowerCase().includes(searchQuery)
          );
        }

        exploreAssets = filteredAssets;
        generateExploreGallery(filteredAssets);

        // Update hasil pencarian
        updateResultCount(filteredAssets.length);
      }
      function applyAllFilters() {
        let filteredAssets = [...sampleAssets];

        // Filter berdasarkan kategori utama
        if (currentCategory !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.type === currentCategory
          );
        }

        // Filter berdasarkan subkategori
        if (currentSubcategory !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.subcategory === currentSubcategory
          );
        }

        // Filter berdasarkan orientasi (contoh sederhana)
        if (currentFilters.orientation !== "all") {
          // Anda perlu menambahkan properti orientation ke setiap asset
          // filteredAssets = filteredAssets.filter(asset => asset.orientation === currentFilters.orientation);
        }

        // Filter berdasarkan warna (contoh sederhana)
        if (currentFilters.color !== "all") {
          // Anda perlu menambahkan properti color ke setiap asset
          // filteredAssets = filteredAssets.filter(asset => asset.color === currentFilters.color);
        }

        // Filter berdasarkan tipe lisensi
        if (currentFilters.licenseTypes.length > 0) {
          filteredAssets = filteredAssets.filter((asset) => {
            if (currentFilters.licenseTypes.includes("free") && !asset.premium)
              return true;
            if (
              currentFilters.licenseTypes.includes("premium") &&
              asset.premium
            )
              return true;
            return false;
          });
        }

        // Filter berdasarkan ukuran file (contoh sederhana)
        if (currentFilters.fileSize !== "all") {
          // Anda perlu menambahkan properti fileSize ke setiap asset
          // filteredAssets = filteredAssets.filter(asset => {
          //     if (currentFilters.fileSize === 'small') return asset.fileSize < 1024 * 1024; // < 1MB
          //     if (currentFilters.fileSize === 'medium') return asset.fileSize >= 1024 * 1024 && asset.fileSize < 5 * 1024 * 1024;
          //     if (currentFilters.fileSize === 'large') return asset.fileSize >= 5 * 1024 * 1024;
          //     return true;
          // });
        }

        // Filter berdasarkan subkategori advanced
        if (currentFilters.subcategory !== "all") {
          filteredAssets = filteredAssets.filter(
            (asset) => asset.subcategory === currentFilters.subcategory
          );
        }

        // Terapkan pencarian jika ada
        const searchQuery = document
          .getElementById("explore-search")
          .value.toLowerCase()
          .trim();
        if (searchQuery) {
          filteredAssets = filteredAssets.filter(
            (asset) =>
              asset.title.toLowerCase().includes(searchQuery) ||
              (asset.subcategory &&
                asset.subcategory.toLowerCase().includes(searchQuery)) ||
              asset.type.toLowerCase().includes(searchQuery)
          );
        }

        exploreAssets = filteredAssets;
        generateExploreGallery(filteredAssets);

        // Update hasil pencarian
        updateResultCount(filteredAssets.length);
      }
      // Update sample assets dengan subcategory
      const sampleAssets = [
        // PHOTO - Nature
        {
          id: 1,
          imageData:
            "https://drive.google.com/thumbnail?id=1GKqf-5FnPJNhtIADjqpvoXXQeRCo88Gu&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1GKqf-5FnPJNhtIADjqpvoXXQeRCo88Gu",
          title: "Buah Segar",
          type: "photo",
          subcategory: "Nature",
          // PROPERI BARU
          orientation: "square",
          color: "green",
          fileSize: 2450000,
          likes: 892,
          downloads: 4521,
          premium: true,
        },
        {
          id: 2,
          imageData:
            "https://drive.google.com/thumbnail?id=1UH1Qvho6ozXOjmDy8R14g3ztt5EtjDpx&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1UH1Qvho6ozXOjmDy8R14g3ztt5EtjDpx",
          title: "Pemandangan Pantai",
          type: "photo",
          subcategory: "Nature",
          // PROPERI BARU
          orientation: "horizontal",
          color: "blue",
          fileSize: 1850000,
          likes: 1245,
          downloads: 7890,
          premium: false,
        },

        // PHOTO - Business
        {
          id: 3,
          imageData:
            "https://drive.google.com/thumbnail?id=1iytfsLbz8UJq1hxH5FUd8LB02P-S0XBO&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1iytfsLbz8UJq1hxH5FUd8LB02P-S0XBO",
          title: "Meeting Kantor",
          type: "photo",
          subcategory: "Business",
          // PROPERI BARU
          orientation: "horizontal",
          color: "red",
          fileSize: 3200000,
          likes: 567,
          downloads: 3210,
          premium: true,
        },

        // ILLUSTRATION - Cartoon
        {
          id: 4,
          imageData:
            "https://drive.google.com/thumbnail?id=10OjtOfu71Qc4Pqc11nvRjmB3VUQsN27W&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=10OjtOfu71Qc4Pqc11nvRjmB3VUQsN27W",
          title: "Masjidil Haram Kartun",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "blue",
          fileSize: 1200000,
          likes: 245,
          downloads: 1203,
          premium: false,
        },
        {
          id: 5,
          imageData:
            "https://drive.google.com/thumbnail?id=1n1bo2_utW_itgyAmZoCvKKyPwvkdHXIp&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1n1bo2_utW_itgyAmZoCvKKyPwvkdHXIp",
          title: "Anak Sekolah SD",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "red",
          fileSize: 980000,
          likes: 234,
          downloads: 1823,
          premium: false,
        },
        {
          id: 6,
          imageData:
            "https://drive.google.com/thumbnail?id=1uFDtKsTn5dWXjjcMe1X-m3_awFDw3MVE&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1uFDtKsTn5dWXjjcMe1X-m3_awFDw3MVE",
          title: "Anak Sekolah Kartun",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "yellow",
          fileSize: 1560000,
          likes: 445,
          downloads: 2891,
          premium: true,
        },

        // ILLUSTRATION - Education
        {
          id: 7,
          imageData:
            "https://drive.google.com/thumbnail?id=19rYY00-bnyJmEfbT2fsIlUJfj7gZ7U-G&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=19rYY00-bnyJmEfbT2fsIlUJfj7gZ7U-G",
          title: "Bapak Guru",
          type: "illustration",
          subcategory: "Education",
          // PROPERI BARU
          orientation: "vertical",
          color: "blue",
          fileSize: 2100000,
          likes: 321,
          downloads: 2145,
          premium: true,
        },
        {
          id: 8,
          imageData:
            "https://drive.google.com/thumbnail?id=1laqgRA2aPPfd-GbOaLwIL_f1EHfl832Z&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1laqgRA2aPPfd-GbOaLwIL_f1EHfl832Z",
          title: "Ibu Guru",
          type: "illustration",
          subcategory: "Education",
          // PROPERI BARU
          orientation: "vertical",
          color: "pink",
          fileSize: 1980000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },

        // VECTOR - Abstract
        {
          id: 9,
          imageData:
            "https://drive.google.com/thumbnail?id=1E8ueYyDjG-gRDUlvg4mb0evUdocY3HIb&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1E8ueYyDjG-gRDUlvg4mb0evUdocY3HIb",
          title: "Abstract Art",
          type: "vector",
          subcategory: "Abstract",
          // PROPERI BARU
          orientation: "square",
          color: "purple",
          fileSize: 850000,
          likes: 678,
          downloads: 4234,
          premium: false,
        },

        // VECTOR - Business
        {
          id: 10,
          imageData:
            "https://drive.google.com/thumbnail?id=19Zyw3pCb-F2Vs4ypE63MVA1lIz-gW4UD&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=19Zyw3pCb-F2Vs4ypE63MVA1lIz-gW4UD",
          title: "Business Infographic",
          type: "vector",
          subcategory: "Business",
          // PROPERI BARU
          orientation: "horizontal",
          color: "blue",
          fileSize: 1250000,
          likes: 567,
          downloads: 3402,
          premium: true,
        },

        // PNG - Nature
        {
          id: 11,
          imageData:
            "https://drive.google.com/thumbnail?id=1IagwLzQWO3ETYAzoChp2x3Pq9MpGNbVl&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1IagwLzQWO3ETYAzoChp2x3Pq9MpGNbVl",
          title: "Abstract Gradient",
          type: "png",
          subcategory: "Nature",
          // PROPERI BARU
          orientation: "square",
          color: "purple",
          fileSize: 760000,
          likes: 245,
          downloads: 1203,
          premium: false,
        },

        // PNG - Objects
        {
          id: 12,
          imageData:
            "https://drive.google.com/thumbnail?id=1rX5pG8qpmDDBEHx0rHZEJ1O443UQPYXy&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1rX5pG8qpmDDBEHx0rHZEJ1O443UQPYXy",
          title: "Panda Animasi",
          type: "png",
          subcategory: "Objects",
          // PROPERI BARU
          orientation: "square",
          color: "black",
          fileSize: 920000,
          likes: 512,
          downloads: 2789,
          premium: false,
        },
        {
          id: 13,
          imageData:
            "https://drive.google.com/thumbnail?id=1DnnaixhHYvy_3hwbOV2rLGX63EjAa4Bx&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1DnnaixhHYvy_3hwbOV2rLGX63EjAa4Bx",
          title: "Siswa SMP Animasi pria",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "blue",
          fileSize: 1450000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 14,
          imageData:
            "https://drive.google.com/thumbnail?id=11LWqNLLKgU7Dp9uhLd1v06GAYqyS-Lvg&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=11LWqNLLKgU7Dp9uhLd1v06GAYqyS-Lvg",
          title: "Siswi SMP Animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "pink",
          fileSize: 1380000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 15,
          imageData:
            "https://drive.google.com/thumbnail?id=1bettwwryHbc2kSVRqLAABVurfVZwFD8n&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1bettwwryHbc2kSVRqLAABVurfVZwFD8n",
          title: "Siswa siswi MI",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "yellow",
          fileSize: 2100000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 16,
          imageData:
            "https://drive.google.com/thumbnail?id=19Jygs9smU1f53LJPVOY5YjydvZuohc83&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=19Jygs9smU1f53LJPVOY5YjydvZuohc83",
          title: "Siswa MI",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "blue",
          fileSize: 1250000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 17,
          imageData:
            "https://drive.google.com/thumbnail?id=1J6m4iFGdySvuABHJEIwKhbk8BVoFAaUs&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1J6m4iFGdySvuABHJEIwKhbk8BVoFAaUs",
          title: "Siswi MI",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "pink",
          fileSize: 1320000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 18,
          imageData:
            "https://drive.google.com/thumbnail?id=17zP4Pb04r_v4guKkRoCEZ0MGUijaAVag&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=17zP4Pb04r_v4guKkRoCEZ0MGUijaAVag",
          title: "Bunga Matahari",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "yellow",
          fileSize: 980000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 19,
          imageData:
            "https://drive.google.com/thumbnail?id=1dV2mVhHjLKQSERGd8IG0MiINE5I_Ruk1&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1dV2mVhHjLKQSERGd8IG0MiINE5I_Ruk1",
          title: "Bunga Matahari animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "yellow",
          fileSize: 1150000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 20,
          imageData:
            "https://drive.google.com/thumbnail?id=1tCvke2ejlYECqrKhKztoHsK3jRyUVahl&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1tCvke2ejlYECqrKhKztoHsK3jRyUVahl",
          title: "Bapak Guru Berkopiah",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "blue",
          fileSize: 1420000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 21,
          imageData:
            "https://drive.google.com/thumbnail?id=1jhGPt61jds8_jPYTvd2xiLhwPITPjhG4&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1jhGPt61jds8_jPYTvd2xiLhwPITPjhG4",
          title: "Ibu Guru Berhijab",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "pink",
          fileSize: 1360000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 22,
          imageData:
            "https://drive.google.com/thumbnail?id=19rYY00-bnyJmEfbT2fsIlUJfj7gZ7U-G&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=19rYY00-bnyJmEfbT2fsIlUJfj7gZ7U-G",
          title: "Bapak guru",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "blue",
          fileSize: 1280000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 23,
          imageData:
            "https://drive.google.com/thumbnail?id=1laqgRA2aPPfd-GbOaLwIL_f1EHfl832Z&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1laqgRA2aPPfd-GbOaLwIL_f1EHfl832Z",
          title: "IBu Guru",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "pink",
          fileSize: 1310000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 24,
          imageData:
            "https://drive.google.com/thumbnail?id=1saK4HSN6bp44jpGnDM_02nkMbm5EqP_c&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1saK4HSN6bp44jpGnDM_02nkMbm5EqP_c",
          title: "Siswi Pramuka Hijab",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "green",
          fileSize: 1480000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 25,
          imageData:
            "https://drive.google.com/thumbnail?id=17eyl-syqN0cOrEznV2I_LSt6rB3u1y2_&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=17eyl-syqN0cOrEznV2I_LSt6rB3u1y2_",
          title: "Siswi Pramuka",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "green",
          fileSize: 1520000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 26,
          imageData:
            "https://drive.google.com/thumbnail?id=1maLxt_sNBvVBtvcY7QVuBvaXpCo6YHFl&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1maLxt_sNBvVBtvcY7QVuBvaXpCo6YHFl",
          title: "Siswa Pramuka",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "green",
          fileSize: 1490000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 27,
          imageData:
            "https://drive.google.com/thumbnail?id=1GvjX8fsOmjHNz6h2bcBUbTl1ST6Hw4QU&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1GvjX8fsOmjHNz6h2bcBUbTl1ST6Hw4QU",
          title: "Bunga Dahlia",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "pink",
          fileSize: 1120000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 28,
          imageData:
            "https://drive.google.com/thumbnail?id=1rer5VngLj0bliS2JF_HPvh0uB8e68Jnj&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1rer5VngLj0bliS2JF_HPvh0uB8e68Jnj",
          title: "Animasi Taman",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "green",
          fileSize: 1950000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 29,
          imageData:
            "https://drive.google.com/thumbnail?id=1GTDS5x8crT74LWMFFQpnxm4AVMcGUU7U&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1GTDS5x8crT74LWMFFQpnxm4AVMcGUU7U",
          title: "Rumput 3D",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "green",
          fileSize: 1670000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 30,
          imageData:
            "https://drive.google.com/thumbnail?id=1guLoXmU8rgpKmKRXVrrNR6Rzv-nEtZ6Z&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1guLoXmU8rgpKmKRXVrrNR6Rzv-nEtZ6Z",
          title: "Animasi Rumput",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "green",
          fileSize: 1430000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 31,
          imageData:
            "https://drive.google.com/thumbnail?id=14MvdQiFH2FESaoxpOS2vexy3NBnDULl_&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=14MvdQiFH2FESaoxpOS2vexy3NBnDULl_",
          title: "Gunung Rinjani",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "blue",
          fileSize: 2180000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 32,
          imageData:
            "https://drive.google.com/thumbnail?id=1wSsaSKcRoVslg9PjwsJ9UAS4kYqtt3c5&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1wSsaSKcRoVslg9PjwsJ9UAS4kYqtt3c5",
          title: "Danau Toba",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "blue",
          fileSize: 2250000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 33,
          imageData:
            "https://drive.google.com/thumbnail?id=1hwD9Ld6Uka1hmmvd1GC9cttaTYXva6ST&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1hwD9Ld6Uka1hmmvd1GC9cttaTYXva6ST",
          title: "Pohon Beringin Animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "vertical",
          color: "green",
          fileSize: 1380000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 34,
          imageData:
            "https://drive.google.com/thumbnail?id=19mMLreVGAn2-4o8t_5KnovvuFsL0qqcT&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=19mMLreVGAn2-4o8t_5KnovvuFsL0qqcT",
          title: "bintang tunggal pancasila Animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "yellow",
          fileSize: 890000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 35,
          imageData:
            "https://drive.google.com/thumbnail?id=1sDe1_5AAm8jIBjjKpAtMq6xNDr8rUThm&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1sDe1_5AAm8jIBjjKpAtMq6xNDr8rUThm",
          title: "Rantai Emas pancasila Animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "yellow",
          fileSize: 950000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 36,
          imageData:
            "https://drive.google.com/thumbnail?id=1m9MRr6oxolmZ_QltnvzRhBk1KX6yv7yv&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1m9MRr6oxolmZ_QltnvzRhBk1KX6yv7yv",
          title: "Pohon Beringin pancasila Animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "green",
          fileSize: 1120000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 37,
          imageData:
            "https://drive.google.com/thumbnail?id=15HQs2jfrC5xRIxI9xHDKZW8YQSgbxCP9&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=15HQs2jfrC5xRIxI9xHDKZW8YQSgbxCP9",
          title: "Padi dan kapas pancasila Animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "yellow",
          fileSize: 1050000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 38,
          imageData:
            "https://drive.google.com/thumbnail?id=13U6swNjxOMhKj5G3V5CcCjo_bSNFfokB&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=13U6swNjxOMhKj5G3V5CcCjo_bSNFfokB",
          title: "Kepala banteng pancasila Animasi",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "black",
          fileSize: 980000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 39,
          imageData:
            "https://drive.google.com/thumbnail?id=1y8cJo6JLgzgtW7FnnlVTZJJvu5EB_cAF&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1y8cJo6JLgzgtW7FnnlVTZJJvu5EB_cAF",
          title: "Logo Whatsappp",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "green",
          fileSize: 720000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 40,
          imageData:
            "https://drive.google.com/thumbnail?id=1csM4urUYjelxkS6O3kKUZ179NoAsznwB&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1csM4urUYjelxkS6O3kKUZ179NoAsznwB",
          title: "Logo Instagram",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "pink",
          fileSize: 680000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 41,
          imageData:
            "https://drive.google.com/thumbnail?id=1_HnhfWQ3Z_0bvkCZTIKr4Pr5kYdMI1yL&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1_HnhfWQ3Z_0bvkCZTIKr4Pr5kYdMI1yL",
          title: "Logo Fecebook",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "blue",
          fileSize: 710000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 42,
          imageData:
            "https://drive.google.com/thumbnail?id=1tvQxb25hCmBnlmXBqpBVwZuUrj1GOCB0&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1tvQxb25hCmBnlmXBqpBVwZuUrj1GOCB0",
          title: "Logo Shopee",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "orange",
          fileSize: 690000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 43,
          imageData:
            "https://drive.google.com/thumbnail?id=15Lu5NbpLtP1C75ZBsBEK290n_Dd1mkus&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=15Lu5NbpLtP1C75ZBsBEK290n_Dd1mkus",
          title: "Logo twitter",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "blue",
          fileSize: 650000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 44,
          imageData:
            "https://drive.google.com/thumbnail?id=1yswB3OkGZ-rM0_aYLS3ksSISV9q3YYVe&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1yswB3OkGZ-rM0_aYLS3ksSISV9q3YYVe",
          title: "Logo Dana",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "blue",
          fileSize: 740000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 45,
          imageData:
            "https://drive.google.com/thumbnail?id=1fOvFLBTv1vZm4MQAzOBDe1Ih1Hvzc4Tq&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1fOvFLBTv1vZm4MQAzOBDe1Ih1Hvzc4Tq",
          title: "Logo Google",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 46,
          imageData:
            "https://drive.google.com/thumbnail?id=1YjlYhAJ26u_kqDSilSAed59mFZYjc5pa&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1YjlYhAJ26u_kqDSilSAed59mFZYjc5pa",
          title: "Logo Canva",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "purple",
          fileSize: 820000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 47,
          imageData:
            "https://drive.google.com/thumbnail?id=1yTyx6CB9tUZXNCaKspidJxg_pQqngd7e&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1yTyx6CB9tUZXNCaKspidJxg_pQqngd7e",
          title: "Ilustrasi Anak memecahkan piring",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "red",
          fileSize: 1680000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 48,
          imageData:
            "https://drive.google.com/thumbnail?id=1qbZBPLoKyhxPx3_7JMhbO0MhMrSUQJQD&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1qbZBPLoKyhxPx3_7JMhbO0MhMrSUQJQD",
          title: " Ilustrasi Anak mengepel",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "blue",
          fileSize: 1570000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 49,
          imageData:
            "https://drive.google.com/thumbnail?id=1jF7gpC3uz-lIdt6KdOpXFTOexVbkwASe&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1jF7gpC3uz-lIdt6KdOpXFTOexVbkwASe",
          title: " Ilustrasi Anak bersih-bersih",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "green",
          fileSize: 1720000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 50,
          imageData:
            "https://drive.google.com/thumbnail?id=1SSOiTbuLN-4FyjnOnAF1huS0MBmPo7Or&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1SSOiTbuLN-4FyjnOnAF1huS0MBmPo7Or",
          title: " Ilustrasi Anak membuang sampah sembarangan",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "horizontal",
          color: "red",
          fileSize: 1850000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 51,
          imageData:
            "https://drive.google.com/thumbnail?id=1WpUQkFwWTD_qVaPZA9fBUV0_w9Og_poj&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1WpUQkFwWTD_qVaPZA9fBUV0_w9Og_poj",
          title: "orang bersalaman",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 52,
          imageData:
            "https://drive.google.com/thumbnail?id=1youLmVMVju5Afqj4brdk_iWAC1r3RbHD&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1youLmVMVju5Afqj4brdk_iWAC1r3RbHD",
          title: "Ilustrasi masjid 1",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 53,
          imageData:
            "https://drive.google.com/thumbnail?id=1tZ9axNlZp4TIHwyZTQCSkgkZUvvqenCq&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1tZ9axNlZp4TIHwyZTQCSkgkZUvvqenCq",
          title: "Bersalaman silaturahim",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 54,
          imageData:
            "https://drive.google.com/thumbnail?id=1nyyHyocKm9AsCq74Ys9m21GlE1p3MR4l&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1nyyHyocKm9AsCq74Ys9m21GlE1p3MR4l",
          title: "Bersalaman Keluarga 5 orang",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 55,
          imageData:
            "https://drive.google.com/thumbnail?id=1dPSFzV-izr51ASn7yzcMSbHeQ61V9A1J&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1dPSFzV-izr51ASn7yzcMSbHeQ61V9A1J",
          title: "Ilustrasi masjid 2",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 56,
          imageData:
            "https://drive.google.com/thumbnail?id=1bSC6Rehwh2EU2OaPGNYP_KcpncslByky&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1bSC6Rehwh2EU2OaPGNYP_KcpncslByky",
          title: "Ilustrasi masjid 3",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 57,
          imageData:
            "https://drive.google.com/thumbnail?id=1UnVN0WUxI3X2KL6FO97JxUidh-3pMLtO&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1UnVN0WUxI3X2KL6FO97JxUidh-3pMLtO",
          title: "Ilustrasi memberi zakat",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 58,
          imageData:
            "https://drive.google.com/thumbnail?id=1R-U71MaZgomX5hNANHs6yDF7VpWsCoE3&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1R-U71MaZgomX5hNANHs6yDF7VpWsCoE3",
          title: "Ilustrasi masjid 4",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 59,
          imageData:
            "https://drive.google.com/thumbnail?id=1PU0-JfnqixI_smBwuq1W25AVmMlUj3Gc&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=1PU0-JfnqixI_smBwuq1W25AVmMlUj3Gc",
          title: "Masjid-idul fitri",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 60,
          imageData:
            "https://drive.google.com/thumbnail?id=16wRmTCDGCmXji_ix7_mukHRINeiFveiP&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=16wRmTCDGCmXji_ix7_mukHRINeiFveiP",
          title: "menyetor zakat",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 54,
          imageData:
            "https://drive.google.com/thumbnail?id=15WN03mvaDkx5UKil6tsrzSyH_a-xJoSa&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=15WN03mvaDkx5UKil6tsrzSyH_a-xJoSa",
          title: "masjid 3D 1",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
        {
          id: 54,
          imageData:
            "https://drive.google.com/thumbnail?id=14tNWsFq5YPoBGXX9YY7rKeLTRolPbguV&sz=w400",
          downloadUrl:
            "https://drive.google.com/uc?export=download&id=14tNWsFq5YPoBGXX9YY7rKeLTRolPbguV",
          title: "Bersalaman Keluarga 4 orang",
          type: "illustration",
          subcategory: "Cartoon",
          // PROPERI BARU
          orientation: "square",
          color: "red",
          fileSize: 780000,
          likes: 456,
          downloads: 3021,
          premium: true,
        },
      ];

      // Data trending subcategories yang sedang populer
      const trendingSubcategories = [
        { category: "photo", subcategory: "Nature", tag: "alam" },
        { category: "photo", subcategory: "Business", tag: "bisnis" },
        { category: "vector", subcategory: "Technology", tag: "teknologi" },
        { category: "illustration", subcategory: "Abstract", tag: "abstrak" },
        { category: "png", subcategory: "Icons", tag: "ikon" },
        { category: "illustration", subcategory: "Cartoon", tag: "kartun" },
        { category: "photo", subcategory: "Food", tag: "makanan" },
        { category: "vector", subcategory: "Business", tag: "bisnis-vektor" },
      ];
      // Fungsi untuk merotasi trending tags
      function rotateTrendingTags() {
        // Acak urutan trending subcategories
        const shuffled = [...trendingSubcategories].sort(
          () => 0.5 - Math.random()
        );

        // Ambil 5 item pertama
        const selectedTrending = shuffled.slice(0, 5);

        // Update trending tags
        updateTrendingTags(selectedTrending);
      }

      function updateTrendingTags(trendingItems) {
        const trendingContainer = document.querySelector(
          ".flex-wrap.justify-center.gap-3"
        );
        const existingTags =
          trendingContainer.querySelectorAll(".trending-tag");
        existingTags.forEach((tag) => tag.remove());

        trendingItems.forEach((item) => {
          const button = document.createElement("button");
          button.className =
            "trending-tag glass-effect text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:bg-opacity-20";
          button.dataset.category = item.category;
          button.dataset.subcategory = item.subcategory;
          button.textContent = item.subcategory;

          button.addEventListener("click", () => {
            handleTrendingTagClick(item.category, item.subcategory);
          });

          trendingContainer.appendChild(button);
        });
      }

      // Rotasi setiap 30 detik (opsional)
      // setInterval(rotateTrendingTags, 30000);

      function handleTrendingTagClick(category, subcategory) {
        // Switch ke tab explore
        switchTab("explore");

        // Set filter berdasarkan kategori dan subkategori
        currentCategory = category;
        currentSubcategory = subcategory;

        // Update UI filter pills
        updateFilterPillsState(category, subcategory);

        // Tampilkan subcategory pills
        showSubcategoryPills(category);

        // Filter aset
        filterBySubcategory(category, subcategory);

        // Tampilkan toast
        showToast(`üîç Menelusuri tren: ${subcategory}`);
      }
      // Variabel untuk sistem pembayaran
      let selectedPlan = "";
      let selectedPaymentMethod = "";
      let paymentStatus = "";

      // Data harga dan plan
      const pricingPlans = {
        pro: {
          title: "Pro",
          price: 6000,
          period: "bulan",
          features: [
            "Unduhan tak terbatas",
            "Resolusi tinggi (4K)",
            "Tanpa atribusi",
            "Koleksi premium",
            "Dukungan prioritas",
            "Integrasi alat",
          ],
        },
        team: {
          title: "Tim",
          price: 12000,
          period: "bulan",
          features: [
            "Semua fitur Pro",
            "5 anggota tim",
            "Koleksi bersama",
            "Manajemen tim",
            "Analitik lanjutan",
            "Dukungan khusus",
          ],
        },
      };

      // Fungsi untuk membuka modal pembayaran
      function openPaymentModal(planType) {
        selectedPlan = planType;
        const plan = pricingPlans[planType];

        document.getElementById(
          "payment-plan-title"
        ).textContent = `Upgrade ke ${plan.title}`;
        document.getElementById(
          "payment-plan-description"
        ).textContent = `Rp${plan.price.toLocaleString("id-ID")}/${
          plan.period
        }`;
        document.getElementById("selected-plan").value = planType;

        // Reset form
        document.getElementById("payment-form").reset();
        document.getElementById("credit-card-fields").classList.add("hidden");
        document.getElementById("qris-display").classList.add("hidden");
        document.getElementById("ewallet-instruction").classList.add("hidden");

        // Reset selected method
        selectedPaymentMethod = "";
        document.querySelectorAll(".payment-method-btn").forEach((btn) => {
          btn.classList.remove("border-purple-600", "bg-purple-50");
          btn.classList.add("border-gray-200");
        });

        document.getElementById("payment-modal").classList.remove("hidden");
      }

      // Fungsi untuk memilih metode pembayaran
      function selectPaymentMethod(method) {
        selectedPaymentMethod = method;

        // Update UI untuk metode yang dipilih
        document.querySelectorAll(".payment-method-btn").forEach((btn) => {
          btn.classList.remove("border-purple-600", "bg-purple-50");
          btn.classList.add("border-gray-200");
        });

        const selectedBtn = document.querySelector(`[data-method="${method}"]`);
        selectedBtn.classList.add("border-purple-600", "bg-purple-50");
        selectedBtn.classList.remove("border-gray-200");

        document.getElementById("selected-method").value = method;

        // Tampilkan form yang sesuai
        document.getElementById("credit-card-fields").classList.add("hidden");
        document.getElementById("qris-display").classList.add("hidden");
        document.getElementById("ewallet-instruction").classList.add("hidden");

        switch (method) {
          case "credit_card":
            document
              .getElementById("credit-card-fields")
              .classList.remove("hidden");
            break;
          case "qris":
            document.getElementById("qris-display").classList.remove("hidden");
            break;
          case "dana":
            document
              .getElementById("ewallet-instruction")
              .classList.remove("hidden");
            document.getElementById("ewallet-text").textContent =
              "Transfer ke DANA: 081234567890 (PNG Gallery Pro)";
            break;
          case "gopay":
            document
              .getElementById("ewallet-instruction")
              .classList.remove("hidden");
            document.getElementById("ewallet-text").textContent =
              "Transfer ke GoPay: 081234567890 (PNG Gallery Pro)";
            break;
          case "ovo":
            document
              .getElementById("ewallet-instruction")
              .classList.remove("hidden");
            document.getElementById("ewallet-text").textContent =
              "Transfer ke OVO: 081234567890 (PNG Gallery Pro)";
            break;
          case "paypal":
            document
              .getElementById("ewallet-instruction")
              .classList.remove("hidden");
            document.getElementById("ewallet-text").textContent =
              "Anda akan diarahkan ke PayPal untuk menyelesaikan pembayaran";
            break;
        }
      }

      // Fungsi untuk menutup modal pembayaran
      function closePaymentModal() {
        document.getElementById("payment-modal").classList.add("hidden");
      }

      // Fungsi untuk menutup modal status
      function closePaymentStatusModal() {
        document.getElementById("payment-status-modal").classList.add("hidden");
        closePaymentModal();
      }

      // Simulasi API pembayaran
      async function processPayment(paymentData) {
        // Simulasi delay API
        return new Promise((resolve) => {
          setTimeout(() => {
            // Simulasi keberhasilan pembayaran (90% success rate)
            const success = Math.random() > 0.1;
            resolve({
              success: success,
              transactionId: "TRX" + Date.now(),
              message: success ? "Pembayaran berhasil" : "Pembayaran gagal",
            });
          }, 3000);
        });
      }

      // Fungsi untuk mengirim email
      async function sendPaymentEmails(paymentData, transactionResult) {
        const emailData = {
          to: paymentData.email,
          plan: pricingPlans[paymentData.plan].title,
          amount: pricingPlans[paymentData.plan].price,
          transactionId: transactionResult.transactionId,
          paymentMethod: paymentData.payment_method,
          date: new Date().toLocaleDateString("id-ID"),
        };

        // Simulasi pengiriman email
        console.log("Mengirim email konfirmasi:", emailData);

        // Dalam implementasi nyata, ini akan memanggil API email
        return { success: true };
      }

      // Handler form pembayaran
      document
        .getElementById("payment-form")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const email = document.getElementById("payment-email").value;

          if (!selectedPaymentMethod) {
            showToast("‚ö†Ô∏è Pilih metode pembayaran terlebih dahulu");
            return;
          }

          if (!email) {
            showToast("‚ö†Ô∏è Masukkan email untuk notifikasi");
            return;
          }

          // Tampilkan modal status
          document
            .getElementById("payment-status-modal")
            .classList.remove("hidden");
          document
            .getElementById("payment-success-content")
            .classList.add("hidden");
          document.getElementById("payment-loading").classList.remove("hidden");

          // Data pembayaran
          const paymentData = {
            plan: selectedPlan,
            payment_method: selectedPaymentMethod,
            email: email,
            amount: pricingPlans[selectedPlan].price,
          };

          try {
            // Proses pembayaran
            const paymentResult = await processPayment(paymentData);

            if (paymentResult.success) {
              // Update UI untuk sukses
              document.getElementById("payment-status-icon").textContent = "‚úÖ";
              document.getElementById("payment-status-title").textContent =
                "Pembayaran Berhasil!";
              document.getElementById(
                "payment-status-message"
              ).textContent = `Terima kasih telah upgrade ke ${pricingPlans[selectedPlan].title}`;
              document
                .getElementById("payment-success-content")
                .classList.remove("hidden");
              document
                .getElementById("payment-loading")
                .classList.add("hidden");

              // Kirim email konfirmasi
              await sendPaymentEmails(paymentData, paymentResult);

              // Update status user (simulasi)
              updateUserSubscription(selectedPlan);

              showToast(
                `‚úÖ Upgrade ke ${pricingPlans[selectedPlan].title} berhasil!`
              );
            } else {
              // Update UI untuk gagal
              document.getElementById("payment-status-icon").textContent = "‚ùå";
              document.getElementById("payment-status-title").textContent =
                "Pembayaran Gagal";
              document.getElementById("payment-status-message").textContent =
                paymentResult.message ||
                "Silakan coba lagi dengan metode pembayaran lain";
              document
                .getElementById("payment-loading")
                .classList.add("hidden");

              showToast("‚ùå Pembayaran gagal. Silakan coba lagi.");
            }
          } catch (error) {
            console.error("Payment error:", error);
            document.getElementById("payment-status-icon").textContent = "‚ùå";
            document.getElementById("payment-status-title").textContent =
              "Error";
            document.getElementById("payment-status-message").textContent =
              "Terjadi kesalahan sistem. Silakan coba lagi.";
            document.getElementById("payment-loading").classList.add("hidden");

            showToast("‚ùå Terjadi kesalahan sistem.");
          }
        });

      // Fungsi untuk update subscription user
      function updateUserSubscription(plan) {
        const userSubscription = {
          plan: plan,
          subscribedAt: new Date().toISOString(),
          expiresAt: new Date(
            Date.now() + 30 * 24 * 60 * 60 * 1000
          ).toISOString(), // 30 hari
          status: "active",
        };

        localStorage.setItem(
          "userSubscription",
          JSON.stringify(userSubscription)
        );

        // Update UI berdasarkan subscription
        updateUIForSubscription(plan);
      }

      // Fungsi untuk update UI berdasarkan subscription
      function updateUIForSubscription(plan) {
        // Contoh: Update badge atau tampilkan fitur premium
        const premiumBadge = document.createElement("div");
        premiumBadge.className =
          "absolute top-2 right-2 bg-yellow-400 text-gray-900 px-2 py-1 rounded text-xs font-bold";
        premiumBadge.textContent = plan.toUpperCase();

        // Tambahkan badge ke header atau tempat lain
        const header = document.querySelector("header");
        const existingBadge = header.querySelector(".subscription-badge");
        if (existingBadge) {
          existingBadge.remove();
        }
        premiumBadge.classList.add("subscription-badge");
        header.appendChild(premiumBadge);
      }

      // Update button pricing untuk menggunakan sistem baru
      function initializePricingButtons() {
        // Update button Pro
        const proButton = document.querySelector(
          ".pricing-card.featured button"
        );
        if (proButton) {
          proButton.onclick = () => openPaymentModal("pro");
        }

        // Update button Team
        const teamButtons = document.querySelectorAll(
          ".pricing-card:not(.featured) button"
        );
        teamButtons.forEach((button, index) => {
          if (index === 1) {
            // Button team (indeks kedua)
            button.onclick = () => openPaymentModal("team");
          }
        });
      }

      // Format input kartu kredit
      document.addEventListener("DOMContentLoaded", function () {
        // Format nomor kartu
        const cardNumberInput = document.querySelector(
          'input[placeholder="1234 5678 9012 3456"]'
        );
        if (cardNumberInput) {
          cardNumberInput.addEventListener("input", function (e) {
            let value = e.target.value
              .replace(/\s+/g, "")
              .replace(/[^0-9]/gi, "");
            let formattedValue = value.match(/.{1,4}/g)?.join(" ") || "";
            e.target.value = formattedValue;
          });
        }

        // Format masa berlaku
        const expiryInput = document.querySelector(
          'input[placeholder="MM/YY"]'
        );
        if (expiryInput) {
          expiryInput.addEventListener("input", function (e) {
            let value = e.target.value
              .replace(/\//g, "")
              .replace(/[^0-9]/gi, "");
            if (value.length >= 2) {
              value = value.slice(0, 2) + "/" + value.slice(2, 4);
            }
            e.target.value = value;
          });
        }
      });

      // Panggil inisialisasi saat load
      initializePricingButtons();
      // Fungsi pencarian aset berdasarkan judul
      function searchAssets(query) {
        if (!query.trim()) {
          // Jika query kosong, tampilkan semua aset
          exploreAssets = [...sampleAssets];
          generateExploreGallery(exploreAssets);
          document.getElementById("explore-result-count").textContent =
            "Menampilkan semua aset";
          return;
        }

        const searchTerm = query.toLowerCase().trim();

        // Filter aset berdasarkan judul yang cocok
        const filteredAssets = sampleAssets.filter((asset) =>
          asset.title.toLowerCase().includes(searchTerm)
        );

        exploreAssets = filteredAssets;
        generateExploreGallery(filteredAssets);

        // Update teks hasil pencarian
        const resultText =
          filteredAssets.length === 0
            ? `Tidak ditemukan aset untuk "${query}"`
            : `Menampilkan ${filteredAssets.length} hasil untuk "${query}"`;

        document.getElementById("explore-result-count").textContent =
          resultText;
      }
      // Update filter pills untuk mendukung kombinasi dengan pencarian
      document.querySelectorAll(".filter-pill").forEach((pill) => {
        pill.addEventListener("click", (e) => {
          const category = e.target.dataset.filter;
          if (category === "all") {
            currentCategory = "all";
            currentSubcategory = "all";
            document
              .getElementById("subcategory-pills")
              .classList.add("hidden");
          } else {
            showSubcategoryPills(category);
          }
          applyCombinedFilters();
        });
      });

      // Update subcategory pills
      document.addEventListener("click", (e) => {
        if (e.target.classList.contains("subcategory-pill")) {
          const category = e.target.dataset.category;
          const subcategory = e.target.dataset.subcategory;
          filterBySubcategory(category, subcategory);
          applyCombinedFilters();
        }
      });

      // Update search input untuk real-time filtering
      document
        .getElementById("explore-search")
        .addEventListener("input", (e) => {
          const query = e.target.value;
          clearTimeout(searchTimeout);
          searchTimeout = setTimeout(() => {
            applyCombinedFilters();
          }, 300);
        });
      // Fungsi pencarian yang lebih advanced
      function advancedSearchAssets(query) {
        if (!query.trim()) {
          exploreAssets = [...sampleAssets];
          generateExploreGallery(exploreAssets);
          document.getElementById("explore-result-count").textContent =
            "Menampilkan semua aset";
          return;
        }
        // Fungsi untuk filter kombinasi (pencarian + filter kategori)
        function applyCombinedFilters() {
          const searchQuery = document
            .getElementById("explore-search")
            .value.toLowerCase()
            .trim();
          let filteredAssets = [...sampleAssets];

          // Apply category filter
          if (currentCategory !== "all") {
            filteredAssets = filteredAssets.filter(
              (asset) => asset.type === currentCategory
            );
          }

          // Apply subcategory filter
          if (currentSubcategory !== "all") {
            filteredAssets = filteredAssets.filter(
              (asset) => asset.subcategory === currentSubcategory
            );
          }

          // Apply search filter
          if (searchQuery) {
            filteredAssets = filteredAssets.filter(
              (asset) =>
                asset.title.toLowerCase().includes(searchQuery) ||
                (asset.subcategory &&
                  asset.subcategory.toLowerCase().includes(searchQuery))
            );
          }

          exploreAssets = filteredAssets;
          generateExploreGallery(filteredAssets);

          // Update result count
          let resultText = `Menampilkan ${filteredAssets.length} aset`;
          if (searchQuery) resultText += ` untuk "${searchQuery}"`;
          if (currentCategory !== "all")
            resultText += ` dalam ${getCategoryLabel(currentCategory)}`;
          if (currentSubcategory !== "all")
            resultText += ` - ${currentSubcategory}`;

          document.getElementById("explore-result-count").textContent =
            resultText;
        }
        const searchTerm = query.toLowerCase().trim();
        const searchWords = searchTerm
          .split(" ")
          .filter((word) => word.length > 0);

        const filteredAssets = sampleAssets.filter((asset) => {
          const title = asset.title.toLowerCase();
          const type = asset.type.toLowerCase();
          const subcategory = asset.subcategory
            ? asset.subcategory.toLowerCase()
            : "";

          // Cek kecocokan di judul, tipe, dan subkategori
          const titleMatch = searchWords.some((word) => title.includes(word));
          const typeMatch = searchWords.some((word) => type.includes(word));
          const subcategoryMatch = searchWords.some((word) =>
            subcategory.includes(word)
          );

          return titleMatch || typeMatch || subcategoryMatch;
        });

        // Urutkan berdasarkan relevansi
        const sortedAssets = filteredAssets.sort((a, b) => {
          const aTitle = a.title.toLowerCase();
          const bTitle = b.title.toLowerCase();

          // Prioritas: judul yang persis sama > yang mengandung kata > yang mengandung sebagian kata
          const aExactMatch = aTitle === searchTerm;
          const bExactMatch = bTitle === searchTerm;

          if (aExactMatch && !bExactMatch) return -1;
          if (!aExactMatch && bExactMatch) return 1;

          const aContainsAll = searchWords.every((word) =>
            aTitle.includes(word)
          );
          const bContainsAll = searchWords.every((word) =>
            bTitle.includes(word)
          );

          if (aContainsAll && !bContainsAll) return -1;
          if (!aContainsAll && bContainsAll) return 1;

          return 0;
        });

        exploreAssets = sortedAssets;
        generateExploreGallery(sortedAssets);

        // Update UI
        const resultText =
          sortedAssets.length === 0
            ? `Tidak ditemukan aset untuk "${query}"`
            : `Menampilkan ${sortedAssets.length} hasil untuk "${query}"`;

        document.getElementById("explore-result-count").textContent =
          resultText;

        // Tampilkan toast untuk hasil pencarian
        if (sortedAssets.length > 0) {
          showToast(`‚úì Ditemukan ${sortedAssets.length} aset untuk "${query}"`);
        }
      }
      // Fungsi pencarian real-time dengan debounce
      let searchTimeout;
      function handleSearchInput(query) {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
          searchAssets(query);
        }, 300); // Delay 300ms untuk menghindari terlalu banyak request
      }
      const featuredCreators = [
        {
          id: 1,
          name: "Sarah Designer",
          avatar: "üë©‚Äçüé®",
          assets: 342,
          followers: "12.5K",
        },
        {
          id: 2,
          name: "Mike Artist",
          avatar: "ÔøΩÔøΩÔøΩÔøΩ‚Äçüé®",
          assets: 598,
          followers: "28.3K",
        },
        {
          id: 3,
          name: "Lisa Creative",
          avatar: "üë©‚Äçüíº",
          assets: 421,
          followers: "15.7K",
        },
        {
          id: 4,
          name: "Tom Graphics",
          avatar: "üë®‚Äçüíª",
          assets: 789,
          followers: "35.2K",
        },
      ];

      exploreAssets = [...sampleAssets];

      async function onConfigChange(newConfig) {
        config = { ...config, ...newConfig };

        document.getElementById("site-title").textContent =
          config.site_title || defaultConfig.site_title;
        document.getElementById("tagline").textContent =
          config.tagline || defaultConfig.tagline;
        document.getElementById("hero-heading").textContent =
          config.hero_heading || defaultConfig.hero_heading;
        document.getElementById("hero-description").textContent =
          config.hero_description || defaultConfig.hero_description;
        document.getElementById("cta-primary").textContent =
          config.cta_primary || defaultConfig.cta_primary;
        document.getElementById("cta-secondary").textContent =
          config.cta_secondary || defaultConfig.cta_secondary;

        const primaryColor =
          config.primary_color || defaultConfig.primary_color;
        const secondaryColor =
          config.secondary_color || defaultConfig.secondary_color;

        const gradientBg = document.querySelectorAll(".gradient-bg");
        gradientBg.forEach((el) => {
          el.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
        });

        const primaryButtons = document.querySelectorAll(
          "#signup-btn, #cta-primary, #become-creator-btn, #apply-filters, .pricing-card.featured button"
        );
        primaryButtons.forEach((btn) => {
          btn.style.backgroundColor = primaryColor;
        });
      }

      function mapToCapabilities(config) {
        return {
          recolorables: [
            {
              get: () => config.primary_color || defaultConfig.primary_color,
              set: (value) => {
                config.primary_color = value;
                if (window.elementSdk)
                  window.elementSdk.setConfig({ primary_color: value });
              },
            },
            {
              get: () =>
                config.secondary_color || defaultConfig.secondary_color,
              set: (value) => {
                config.secondary_color = value;
                if (window.elementSdk)
                  window.elementSdk.setConfig({ secondary_color: value });
              },
            },
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined,
        };
      }

      function mapToEditPanelValues(config) {
        return new Map([
          ["site_title", config.site_title || defaultConfig.site_title],
          ["tagline", config.tagline || defaultConfig.tagline],
          ["hero_heading", config.hero_heading || defaultConfig.hero_heading],
          [
            "hero_description",
            config.hero_description || defaultConfig.hero_description,
          ],
          ["cta_primary", config.cta_primary || defaultConfig.cta_primary],
          [
            "cta_secondary",
            config.cta_secondary || defaultConfig.cta_secondary,
          ],
        ]);
      }

      function showToast(message) {
        const existingToast = document.querySelector(".toast");
        if (existingToast) existingToast.remove();

        const toast = document.createElement("div");
        toast.className = "toast";
        toast.textContent = message;
        document.body.appendChild(toast);

        setTimeout(() => toast.remove(), 3000);
      }

      function switchTab(tabName) {
        currentTab = tabName;
        document
          .querySelectorAll(".tab-content")
          .forEach((tab) => tab.classList.add("hidden"));
        document.getElementById(`${tabName}-tab`).classList.remove("hidden");

        // Refresh download history when switching to downloads tab
        if (tabName === "downloads") {
          generateDownloadHistory();
        }

        window.scrollTo(0, 0);
      }

      function generateFeaturedCollections() {
        const container = document.getElementById("featured-collections");
        container.innerHTML = featuredCollections
          .map(
            (col) => `
    <div class="card bg-white rounded-xl overflow-hidden shadow-md cursor-pointer">
      <div class="h-48 flex items-center justify-center text-6xl" style="background: ${col.color}">
        <img src="${col.thumb}" alt="${col.title}" class="w-full h-full object-cover" />
      </div>
      <div class="p-6">
        <h3 class="text-xl font-bold mb-2">${col.title}</h3>
        <p class="text-gray-600">${col.count} assets</p>
      </div>
    </div>
  `
          )
          .join("");
      }

      function generateAssetTypes() {
        const container = document.getElementById("asset-types");
        container.innerHTML = assetTypes
          .map(
            (type) => `
        <div class="card bg-white rounded-xl p-6 text-center shadow-md hover:shadow-lg transition cursor-pointer relative group">
            <div class="text-4xl mb-3">${type.icon}</div>
            <h3 class="font-bold mb-1">${type.label}</h3>
            <p class="text-sm text-gray-500">${type.count}</p>
            
            <!-- Subcategories Dropdown -->
            <div class="subcategory-dropdown">
                <div class="p-4">
                    <h4 class="font-semibold text-gray-900 mb-3 text-sm">Subkategori ${
                      type.label
                    }:</h4>
                    <div class="grid grid-cols-2 gap-2 max-h-60 overflow-y-auto">
                        <button 
                            class="subcategory-dropdown-btn text-xs px-3 py-2 bg-purple-600 text-white rounded-lg transition text-left font-medium"
                            data-category="${type.type}"
                            data-subcategory="all"
                        >
                            üìÅ Semua ${type.label}
                        </button>
                        ${type.subcategories
                          .map(
                            (sub) => `
                            <button 
                                class="subcategory-dropdown-btn text-xs px-3 py-2 bg-gray-100 hover:bg-purple-600 hover:text-white rounded-lg transition text-gray-700 text-left"
                                data-category="${type.type}"
                                data-subcategory="${sub}"
                            >
                                ${sub}
                            </button>
                        `
                          )
                          .join("")}
                    </div>
                </div>
            </div>
        </div>
    `
          )
          .join("");
      }
      let currentCategory = "all";
      let currentSubcategory = "all";

      function showSubcategoryPills(category) {
        const subcategoryContainer =
          document.getElementById("subcategory-pills");

        if (category === "all") {
          subcategoryContainer.classList.add("hidden");
          return;
        }
        // Hapus event listeners trending tags yang lama
        document.querySelectorAll(".trending-tag").forEach((tag) => {
          tag.replaceWith(tag.cloneNode(true));
        });

        // Generate trending tags yang baru
        generateTrendingTags();
        const categorySubs = subcategories[category] || [];
        const categoryLabel = getCategoryLabel(category);

        subcategoryContainer.innerHTML = `
    <span class="text-sm text-gray-600 mr-2">Subkategori ${categoryLabel}:</span>
    <button
        class="subcategory-pill px-3 py-1 ${
          currentSubcategory === "all"
            ? "bg-purple-600 text-white"
            : "bg-gray-100 text-gray-700"
        } rounded-full text-xs font-medium hover:bg-purple-600 hover:text-white transition"
        data-category="${category}"
        data-subcategory="all"
    >
        Semua ${categoryLabel}
    </button>
    ${categorySubs
      .map(
        (sub) => `
        <button
            class="subcategory-pill px-3 py-1 ${
              currentSubcategory === sub
                ? "bg-purple-600 text-white"
                : "bg-gray-100 text-gray-700"
            } rounded-full text-xs font-medium hover:bg-purple-600 hover:text-white transition"
            data-category="${category}"
            data-subcategory="${sub}"
        >
            ${sub}
        </button>
    `
      )
      .join("")}
  `;

        subcategoryContainer.classList.remove("hidden");
      }

      function filterBySubcategory(category, subcategory) {
        currentCategory = category;
        currentSubcategory = subcategory;

        let filtered = sampleAssets;

        // Filter berdasarkan kategori dan subkategori
        if (category !== "all") {
          filtered = filtered.filter((asset) => asset.type === category);
        }

        if (subcategory !== "all") {
          filtered = filtered.filter(
            (asset) => asset.subcategory === subcategory
          );
        }

        exploreAssets = filtered;
        generateExploreGallery(filtered);

        // Update UI state
        updateFilterPillsState(category, subcategory);
        updateSubcategoryPillsState(category, subcategory);

        document.getElementById(
          "explore-result-count"
        ).textContent = `Menampilkan ${filtered.length} aset${
          category !== "all" ? ` dalam ${category}` : ""
        }${subcategory !== "all" ? ` - ${subcategory}` : ""}`;

        showToast(
          `Filter: ${category}${
            subcategory !== "all" ? ` - ${subcategory}` : ""
          }`
        );
      }
      let currentGridView = "grid"; // 'grid' or 'list'

      function toggleGridView() {
        const gridViewBtn = document.getElementById("grid-view-btn");
        const gallery = document.getElementById("explore-gallery");

        if (currentGridView === "grid") {
          // Switch to list view
          gallery.classList.remove(
            "grid-cols-2",
            "md:grid-cols-3",
            "lg:grid-cols-4"
          );
          gallery.classList.add("grid-cols-1");
          gridViewBtn.innerHTML = `
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
            </svg>
        `;
          currentGridView = "list";
          showToast("‚úì Tampilan list view diaktifkan");
        } else {
          // Switch to grid view
          gallery.classList.remove("grid-cols-1");
          gallery.classList.add(
            "grid-cols-2",
            "md:grid-cols-3",
            "lg:grid-cols-4"
          );
          gridViewBtn.innerHTML = `
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM13 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2z"/>
            </svg>
        `;
          currentGridView = "grid";
          showToast("‚úì Tampilan grid view diaktifkan");
        }
      }
      function updateSortUI(sortBy) {
        const sortSelect = document.getElementById("sort-select");
        sortSelect.value = sortBy;

        // Update filter pills untuk menunjukkan sorting aktif
        document.querySelectorAll(".filter-pill").forEach((pill) => {
          pill.classList.remove("bg-purple-600", "text-white");
          pill.classList.add(
            "bg-gray-100",
            "text-gray-700",
            "hover:bg-gray-200"
          );
        });

        // Tambahkan badge atau indikator visual untuk sorting aktif
        const resultCount = document.getElementById("explore-result-count");
        const currentText = resultCount.textContent;

        // Hapus indikator sorting sebelumnya jika ada
        resultCount.textContent = currentText.replace(/ \(.*?\)/, "");

        // Tambahkan indikator sorting baru
        const sortLabels = {
          popular: "Paling Populer",
          newest: "Terbaru",
          downloads: "Paling Banyak Diunduh",
          likes: "Paling Disukai",
        };

        resultCount.textContent += ` (${sortLabels[sortBy]})`;
      }
      function generateExploreGallery(assets) {
        const gallery = document.getElementById("explore-gallery");
        const isListView = currentGridView === "list";

        if (isListView) {
          gallery.innerHTML = assets
            .map(
              (asset) => `
            <div class="gallery-item card bg-white rounded-xl overflow-hidden shadow-md cursor-pointer flex" data-asset-id="${
              asset.id
            }">
                <div class="w-32 h-32 flex-shrink-0 flex items-center justify-center text-4xl checkered-bg relative">
                    ${
                      asset.imageData
                        ? `<img src="${asset.imageData}" alt="${asset.title}" class="w-full h-full object-cover">`
                        : `<span style="font-size: 40px">${asset.icon}</span>`
                    }
                    ${
                      asset.premium
                        ? '<div class="badge bg-yellow-400 text-gray-900 absolute top-2 right-2 text-xs">Premium</div>'
                        : ""
                    }
                </div>
                <div class="flex-1 p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-semibold text-gray-900 text-lg">${
                          asset.title
                        }</h3>
                        <div class="flex gap-2">
                            <span class="badge bg-purple-100 text-purple-600 text-xs capitalize">${
                              asset.type
                            }</span>
                            ${
                              asset.premium
                                ? '<span class="badge bg-yellow-100 text-yellow-600 text-xs">Premium</span>'
                                : ""
                            }
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">Subkategori: ${
                      asset.subcategory || "General"
                    }</p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <div class="flex gap-4">
                            <span class="flex items-center gap-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                                ${asset.likes}
                            </span>
                            <span class="flex items-center gap-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                                </svg>
                                ${asset.downloads}
                            </span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="event.stopPropagation(); downloadAsset(${
                              asset.id
                            })" class="px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700 flex items-center gap-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                                </svg>
                                Download
                            </button>
                            <button onclick="event.stopPropagation(); likeAsset(${
                              asset.id
                            })" class="px-3 py-1 border border-purple-600 text-purple-600 rounded text-sm hover:bg-purple-50 flex items-center gap-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                                Like
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        `
            )
            .join("");
        } else {
          // Grid view (existing code)
          gallery.innerHTML = assets
            .map(
              (asset) => `
            <div class="gallery-item card bg-white rounded-xl overflow-hidden shadow-md cursor-pointer" data-asset-id="${
              asset.id
            }">
                <div class="aspect-square flex items-center justify-center text-6xl checkered-bg relative">
                    ${
                      asset.imageData
                        ? `<img src="${asset.imageData}" alt="${asset.title}" class="w-full h-full object-cover">`
                        : `<span style="font-size: 80px">${asset.icon}</span>`
                    }
                    ${
                      asset.premium
                        ? '<div class="badge bg-yellow-400 text-gray-900 absolute top-3 right-3">Premium</div>'
                        : ""
                    }
                    <div class="image-overlay">
                        <button class="action-btn bg-purple-600 text-white hover:bg-purple-700" onclick="downloadAsset(${
                          asset.id
                        })">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                            </svg>
                            Download
                        </button>
                        <button class="action-btn bg-white text-gray-900 hover:bg-gray-100" onclick="likeAsset(${
                          asset.id
                        })">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                            </svg>
                            ${asset.likes}
                        </button>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-gray-900">${asset.title}</h3>
                    <div class="flex items-center justify-between mt-2 text-sm text-gray-500">
                        <span class="capitalize">${asset.type}</span>
                        <span>‚Üì ${asset.downloads}</span>
                    </div>
                </div>
            </div>
        `
            )
            .join("");
        }

        // Event listeners untuk asset detail
        document.querySelectorAll(".gallery-item").forEach((item) => {
          item.addEventListener("click", (e) => {
            if (!e.target.closest("button")) {
              const assetId = parseInt(item.dataset.assetId);
              showAssetDetail(assetId);
            }
          });
        });
      }

      function generateFeaturedCreators() {
        const container = document.getElementById("featured-creators");
        container.innerHTML = featuredCreators
          .map(
            (creator) => `
        <div class="card bg-white rounded-xl p-6 text-center shadow-md">
          <div class="text-6xl mb-4">${creator.avatar}</div>
          <h3 class="text-xl font-bold mb-2">${creator.name}</h3>
          <div class="text-gray-600 mb-4">
            <div>${creator.assets} assets</div>
            <div>${creator.followers} followers</div>
          </div>
          <button class="w-full py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700">Follow</button>
        </div>
      `
          )
          .join("");
      }

      function generateDownloadHistory() {
        const grid = document.getElementById("download-history-grid");
        const emptyState = document.getElementById("download-empty-state");
        const countEl = document.getElementById("download-history-count");
        const badge = document.getElementById("download-count-badge");

        if (downloadHistory.length === 0) {
          grid.classList.add("hidden");
          emptyState.classList.remove("hidden");
          if (badge) badge.classList.add("hidden");
        } else {
          grid.classList.remove("hidden");
          emptyState.classList.add("hidden");
          if (countEl)
            countEl.textContent = `Anda memiliki ${downloadHistory.length} file dalam riwayat`;
          if (badge) {
            badge.textContent = downloadHistory.length;
            badge.classList.remove("hidden");
          }

          grid.innerHTML = downloadHistory
            .map((item) => {
              const date = new Date(item.downloadedAt);
              const formattedDate = date.toLocaleDateString("id-ID", {
                day: "numeric",
                month: "short",
                year: "numeric",
                hour: "2-digit",
                minute: "2-digit",
              });

              return `
            <div class="card bg-white rounded-xl overflow-hidden shadow-md">
              <div class="aspect-square flex items-center justify-center text-6xl checkered-bg">
                ${
                  item.assetImageData
                    ? `<img src="${item.assetImageData}" alt="${item.assetTitle}" class="w-full h-full object-cover">`
                    : item.assetIcon
                }
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-2">${item.assetTitle}</h3>
                <div class="flex flex-wrap gap-2 mb-3">
                  <span class="badge bg-purple-100 text-purple-600">${item.resolution.toUpperCase()}</span>
                  <span class="badge bg-blue-100 text-blue-600">${item.format.toUpperCase()}</span>
                  ${
                    item.premium
                      ? '<span class="badge bg-yellow-100 text-yellow-600">Premium</span>'
                      : ""
                  }
                </div>
                <div class="text-sm text-gray-500 mb-4">
                  <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  ${formattedDate}
                </div>
                <div class="flex gap-2">
                  <button onclick="redownloadFromHistory(${
                    item.id
                  })" class="flex-1 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 flex items-center justify-center gap-1">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                    </svg>
                    Download Lagi
                  </button>
                  <button onclick="removeFromHistory(${
                    item.id
                  })" class="px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          `;
            })
            .join("");
        }
      }

      function redownloadFromHistory(historyId) {
        const historyItem = downloadHistory.find((h) => h.id === historyId);
        if (!historyItem) return;

        const asset = {
          id: historyItem.assetId,
          title: historyItem.assetTitle,
          icon: historyItem.assetIcon,
          imageData: historyItem.assetImageData,
          premium: historyItem.premium,
        };

        selectedResolution = historyItem.resolution;
        selectedFormat = historyItem.format;

        downloadAssetAdvanced(asset.id);
      }

      function removeFromHistory(historyId) {
        downloadHistory = downloadHistory.filter((h) => h.id !== historyId);
        localStorage.setItem(
          "downloadHistory",
          JSON.stringify(downloadHistory)
        );
        generateDownloadHistory();
        showToast("‚úì Item dihapus dari riwayat");
      }

      function clearDownloadHistory() {
        if (downloadHistory.length === 0) return;

        const confirmDiv = document.createElement("div");
        confirmDiv.className = "modal-overlay";
        confirmDiv.innerHTML = `
        <div class="modal-content max-w-md">
          <div class="p-8 text-center">
            <div class="text-6xl mb-4">‚ö†Ô∏è</div>
            <h3 class="text-2xl font-bold mb-4">Hapus Semua Riwayat?</h3>
            <p class="text-gray-600 mb-6">Anda yakin ingin menghapus semua ${downloadHistory.length} item dari riwayat download? Tindakan ini tidak dapat dibatalkan.</p>
            <div class="flex gap-4">
              <button onclick="this.closest('.modal-overlay').remove()" class="flex-1 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50">
                Batal
              </button>
              <button onclick="confirmClearHistory(); this.closest('.modal-overlay').remove()" class="flex-1 py-3 bg-red-500 text-white rounded-lg font-bold hover:bg-red-600">
                Hapus Semua
              </button>
            </div>
          </div>
        </div>
      `;
        document.body.appendChild(confirmDiv);
      }

      function confirmClearHistory() {
        downloadHistory = [];
        localStorage.setItem(
          "downloadHistory",
          JSON.stringify(downloadHistory)
        );
        generateDownloadHistory();
        showToast("‚úì Semua riwayat berhasil dihapus");
      }

      // Dalam fungsi filterExploreAssets, pastikan semua kategori ada
      function filterExploreAssets(type) {
        if (type === "all") {
          currentCategory = "all";
          currentSubcategory = "all";
          document.getElementById("subcategory-pills").classList.add("hidden");
        } else {
          showSubcategoryPills(type);
        }

        filterBySubcategory(type, "all");
      }
      function filterBySubcategory(category, subcategory) {
        currentCategory = category;
        currentSubcategory = subcategory;

        let filtered = sampleAssets;

        console.log(
          `Filtering: Category=${category}, Subcategory=${subcategory}`
        );
        console.log(`Total assets before filter: ${filtered.length}`);

        // Filter berdasarkan kategori dan subkategori
        if (category !== "all") {
          filtered = filtered.filter((asset) => {
            const matches = asset.type === category;
            console.log(
              `Asset: ${asset.title}, Type: ${asset.type}, Matches: ${matches}`
            );
            return matches;
          });
        }

        if (subcategory !== "all") {
          filtered = filtered.filter((asset) => {
            const matches = asset.subcategory === subcategory;
            console.log(
              `Asset: ${asset.title}, Subcategory: ${asset.subcategory}, Matches: ${matches}`
            );
            return matches;
          });
        }

        console.log(`Total assets after filter: ${filtered.length}`);

        exploreAssets = filtered;
        generateExploreGallery(filtered);

        // Update UI state
        updateFilterPillsState(category, subcategory);
        updateSubcategoryPillsState(category, subcategory);

        // Update result count text
        let resultText = `Menampilkan ${filtered.length} aset`;
        if (category !== "all") {
          resultText += ` dalam ${getCategoryLabel(category)}`;
        }
        if (subcategory !== "all") {
          resultText += ` - ${subcategory}`;
        }

        document.getElementById("explore-result-count").textContent =
          resultText;

        showToast(
          `Filter: ${getCategoryLabel(category)}${
            subcategory !== "all" ? ` - ${subcategory}` : ""
          }`
        );
      }

      // Helper function untuk mendapatkan label kategori
      function getCategoryLabel(category) {
        const labels = {
          photo: "Foto",
          vector: "Vektor",
          illustration: "Ilustrasi",
          png: "PNG",
          icon: "Ikon",
          psd: "PSD",
        };
        return labels[category] || category;
      }
      function selectResolution(resolution) {
        selectedResolution = resolution;
        document.querySelectorAll(".resolution-option").forEach((btn) => {
          if (btn.dataset.resolution === resolution) {
            btn.className =
              "resolution-option px-3 py-2 border-2 border-purple-600 bg-purple-100 rounded-lg text-sm font-medium hover:bg-purple-100 transition";
          } else {
            btn.className =
              "resolution-option px-3 py-2 border-2 border-purple-300 rounded-lg text-sm font-medium hover:bg-purple-100 transition";
          }
        });
      }

      function selectFormat(format) {
        selectedFormat = format;
        document.querySelectorAll(".format-option").forEach((btn) => {
          if (btn.dataset.format === format) {
            btn.className =
              "format-option px-3 py-2 border-2 border-purple-600 bg-purple-100 rounded-lg text-sm font-medium hover:bg-purple-100 transition";
          } else {
            btn.className =
              "format-option px-3 py-2 border-2 border-purple-300 rounded-lg text-sm font-medium hover:bg-purple-100 transition";
          }
        });
      }

      function addToDownloadHistory(asset, resolution, format) {
        const historyItem = {
          id: Date.now(),
          assetId: asset.id,
          assetTitle: asset.title,
          assetIcon: asset.icon,
          assetImageData: asset.imageData,
          resolution: resolution,
          format: format,
          downloadedAt: new Date().toISOString(),
          premium: asset.premium,
        };

        downloadHistory.unshift(historyItem);
        if (downloadHistory.length > 50)
          downloadHistory = downloadHistory.slice(0, 50);
        localStorage.setItem(
          "downloadHistory",
          JSON.stringify(downloadHistory)
        );
      }

      async function downloadAssetAdvanced(assetId) {
        const asset = sampleAssets.find((a) => a.id === assetId);
        if (!asset) return;

        // Show loading toast
        showToast("‚è≥ Membuka file untuk download...");

        try {
          // Untuk semua asset, buka URL download di tab baru
          const downloadUrl = asset.downloadUrl || asset.imageData;

          // Buat link untuk download
          const link = document.createElement("a");
          link.href = downloadUrl;
          link.target = "_blank"; // Buka di tab baru
          link.rel = "noopener noreferrer";

          // Untuk Google Drive, kita perlu membuka di tab baru
          if (downloadUrl.includes("drive.google.com")) {
            window.open(downloadUrl, "_blank");
          } else {
            // Untuk direct links, coba download langsung
            link.download = `${asset.title.replace(/\s+/g, "-")}.png`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          }

          // Update download history
          addToDownloadHistory(asset, "original", "png");
          asset.downloads++;

          showToast(`‚úì ${asset.title} berhasil dibuka untuk download!`);
        } catch (error) {
          console.error("Download error:", error);
          showToast("‚ùå Gagal mendownload file. Coba lagi.");
        }
      }

      async function saveToGallery(assetId) {
        const asset = sampleAssets.find((a) => a.id === assetId);
        if (!asset) return;

        showToast("‚è≥ Menyiapkan gambar untuk disimpan...");

        try {
          const downloadUrl = asset.downloadUrl || asset.imageData;

          // Buat link download dengan atribut download
          const link = document.createElement("a");
          link.href = downloadUrl;
          link.download = `PNG_Gallery_${asset.title.replace(/\s+/g, "_")}.png`;
          link.style.display = "none";

          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);

          // Update download history
          addToDownloadHistory(asset, "original", "png");
          asset.downloads++;

          // Tampilkan petunjuk untuk mobile
          if (/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
            showMobileGalleryInstruction();
          } else {
            showToast(
              `‚úì ${asset.title} berhasil didownload! Cek folder Downloads.`
            );
          }
        } catch (error) {
          console.error("Save to gallery error:", error);

          // Fallback: buka di tab baru
          const downloadUrl = asset.downloadUrl || asset.imageData;
          window.open(downloadUrl, "_blank");
          showToast("‚úì File dibuka di tab baru. Simpan manual dari sana.");
        }
      }

      function showMobileGalleryInstruction() {
        const instructionDiv = document.createElement("div");
        instructionDiv.className = "modal-overlay";
        instructionDiv.style.zIndex = "10000";
        instructionDiv.innerHTML = `
        <div class="modal-content max-w-md">
          <div class="p-8">
            <div class="text-center mb-6">
              <div class="text-6xl mb-4">‚úÖ</div>
              <h3 class="text-2xl font-bold mb-2">File Berhasil Didownload!</h3>
            </div>
            
            <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6">
              <h4 class="font-bold text-blue-900 mb-3 flex items-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Cara Akses Gambar:
              </h4>
              <div class="space-y-3 text-sm text-gray-700">
                <div class="flex items-start gap-3">
                  <div class="bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold flex-shrink-0">1</div>
                  <div>
                    <strong>Android:</strong>
                    <ul class="mt-1 ml-4 list-disc text-gray-600">
                      <li>Buka aplikasi <strong>Galeri</strong> atau <strong>Photos</strong></li>
                      <li>File tersimpan di folder <strong>Downloads</strong> atau <strong>Pictures</strong></li>
                      <li>Atau buka <strong>File Manager ‚Üí Downloads</strong></li>
                    </ul>
                  </div>
                </div>
                
                <div class="flex items-start gap-3">
                  <div class="bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold flex-shrink-0">2</div>
                  <div>
                    <strong>iPhone/iPad:</strong>
                    <ul class="mt-1 ml-4 list-disc text-gray-600">
                      <li>Buka aplikasi <strong>Files</strong></li>
                      <li>Pilih <strong>Downloads</strong> atau <strong>On My iPhone</strong></li>
                      <li>Tap gambar ‚Üí Share ‚Üí <strong>Save Image</strong> untuk simpan ke Photos</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
              <p class="text-sm text-green-800">
                <strong>üí° Tips:</strong> File gambar PNG yang didownload akan otomatis muncul di aplikasi Galeri/Photos Anda dalam beberapa saat setelah download selesai.
              </p>
            </div>
            
            <button onclick="this.closest('.modal-overlay').remove()" class="w-full py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700">
              Mengerti, Terima Kasih!
            </button>
          </div>
        </div>
      `;
        document.body.appendChild(instructionDiv);

        // Auto close after 10 seconds
        setTimeout(() => {
          if (instructionDiv.parentNode) {
            instructionDiv.remove();
          }
        }, 10000);
      }

      function likeAsset(assetId) {
        event.stopPropagation();
        const asset = sampleAssets.find((a) => a.id === assetId);
        asset.likes++;
        generateExploreGallery(exploreAssets);
        showToast("Added to favorites!");
      }
      function updateFilterPillsState(category, subcategory) {
        // Ganti event listener yang lama dengan yang baru
        document.querySelectorAll(".filter-pill").forEach((pill) => {
          pill.addEventListener("click", (e) => {
            const category = e.target.dataset.filter;
            const subcategory = e.target.dataset.subfilter;

            if (category === "all") {
              currentCategory = "all";
              currentSubcategory = "all";
              document
                .getElementById("subcategory-pills")
                .classList.add("hidden");
              filterExploreAssets("all");
            } else {
              showSubcategoryPills(category);
              filterBySubcategory(category, "all");
            }
          });
        });

        // Event delegation untuk subcategory pills dengan logging
        document.addEventListener("click", (e) => {
          if (e.target.classList.contains("subcategory-pill")) {
            const category = e.target.dataset.category;
            const subcategory = e.target.dataset.subcategory;
            console.log(
              `Subcategory pill clicked: ${category} - ${subcategory}`
            );
            filterBySubcategory(category, subcategory);
          }
        });

        // Event listener untuk subcategory dropdown buttons
        document.addEventListener("click", (e) => {
          if (e.target.classList.contains("subcategory-dropdown-btn")) {
            const category = e.target.dataset.category;
            const subcategory = e.target.dataset.subcategory;
            console.log(
              `Subcategory dropdown clicked: ${category} - ${subcategory}`
            );
            filterBySubcategory(category, subcategory);
            switchTab("explore");
          }
        });
      }
      function showAssetDetail(assetId) {
        const asset = sampleAssets.find((a) => a.id === assetId);
        const modal = document.getElementById("asset-detail-modal");
        const content = document.getElementById("asset-detail-content");

        const resolutionOptions = asset.premium
          ? `
        <div class="bg-purple-50 border-2 border-purple-200 rounded-lg p-4 mb-4">
          <h4 class="font-bold text-purple-900 mb-3 flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Opsi Premium Download
          </h4>
          <div class="space-y-3">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Resolusi:</label>
              <div class="grid grid-cols-3 gap-2">
                <button onclick="selectResolution('small')" class="resolution-option px-3 py-2 border-2 border-purple-300 rounded-lg text-sm font-medium hover:bg-purple-100 transition" data-resolution="small">
                  <div class="font-bold">Small</div>
                  <div class="text-xs text-gray-600">512√ó512</div>
                </button>
                <button onclick="selectResolution('medium')" class="resolution-option px-3 py-2 border-2 border-purple-600 bg-purple-100 rounded-lg text-sm font-medium hover:bg-purple-100 transition" data-resolution="medium">
                  <div class="font-bold">Medium</div>
                  <div class="text-xs text-gray-600">1024√ó1024</div>
                </button>
                <button onclick="selectResolution('large')" class="resolution-option px-3 py-2 border-2 border-purple-300 rounded-lg text-sm font-medium hover:bg-purple-100 transition" data-resolution="large">
                  <div class="font-bold">Large</div>
                  <div class="text-xs text-gray-600">2048√ó2048</div>
                </button>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Format:</label>
              <div class="grid grid-cols-2 gap-2">
                <button onclick="selectFormat('png')" class="format-option px-3 py-2 border-2 border-purple-600 bg-purple-100 rounded-lg text-sm font-medium hover:bg-purple-100 transition" data-format="png">
                  <div class="font-bold">PNG</div>
                  <div class="text-xs text-gray-600">Transparan</div>
                </button>
                <button onclick="selectFormat('jpg')" class="format-option px-3 py-2 border-2 border-purple-300 rounded-lg text-sm font-medium hover:bg-purple-100 transition" data-format="jpg">
                  <div class="font-bold">JPG</div>
                  <div class="text-xs text-gray-600">File Kecil</div>
                </button>
              </div>
            </div>
          </div>
        </div>
      `
          : "";

        const isMobile =
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          );
        const mobileDownloadButton = isMobile
          ? `
        <button onclick="saveToGallery(${asset.id})" class="w-full py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
          üì± Simpan ke Galeri
        </button>
      `
          : "";

        content.innerHTML = `
        <div class="flex flex-col md:flex-row gap-8 p-8">
          <div class="flex-1">
            <div class="aspect-square flex items-center justify-center text-9xl checkered-bg rounded-xl">
              ${
                asset.imageData
                  ? `<img src="${asset.imageData}" alt="${asset.title}" class="w-full h-full object-cover rounded-xl">`
                  : asset.icon
              }
            </div>
          </div>
          <div class="flex-1">
            <button onclick="closeAssetDetail()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
            <h2 class="text-3xl font-bold mb-4">${asset.title}</h2>
            <div class="flex gap-2 mb-6">
              <span class="badge bg-purple-100 text-purple-600">${
                asset.type
              }</span>
              ${
                asset.premium
                  ? '<span class="badge bg-yellow-100 text-yellow-600">Premium</span>'
                  : '<span class="badge bg-green-100 text-green-600">Free</span>'
              }
            </div>
            <div class="flex gap-8 mb-8 text-gray-600">
              <div>
                <div class="text-2xl font-bold text-gray-900">${
                  asset.likes
                }</div>
                <div class="text-sm">Likes</div>
              </div>
              <div>
                <div class="text-2xl font-bold text-gray-900">${
                  asset.downloads
                }</div>
                <div class="text-sm">Downloads</div>
              </div>
            </div>
            ${resolutionOptions}
            <div class="space-y-3">
  
  <button onclick="saveToGallery(${
    asset.id
  })" class="w-full py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 flex items-center justify-center gap-2">
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
    </svg>
    üì± Simpan ke Galeri
  </button>
  
  <button onclick="likeAsset(${
    asset.id
  })" class="w-full py-3 border-2 border-purple-600 text-purple-600 rounded-lg font-bold hover:bg-purple-50 flex items-center justify-center gap-2">
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
    </svg>
    Tambah ke Favorit
  </button>
</div>
            <div class="mt-8 pt-8 border-t">
              <h3 class="font-bold mb-4">License Information</h3>
              <p class="text-gray-600 text-sm">${
                asset.premium
                  ? "Premium License - Royalty-free commercial use with no attribution required."
                  : "Free License - Commercial use allowed with attribution to PNG Gallery Pro."
              }</p>
            </div>
          </div>
        </div>
      `;

        modal.classList.remove("hidden");
      }

      function closeAssetDetail() {
        document.getElementById("asset-detail-modal").classList.add("hidden");
      }

      function showLoginModal() {
        document.getElementById("login-modal").classList.remove("hidden");
      }

      function closeLoginModal() {
        document.getElementById("login-modal").classList.add("hidden");
      }

      function showSignupModal() {
        document.getElementById("signup-modal").classList.remove("hidden");
      }

      function closeSignupModal() {
        document.getElementById("signup-modal").classList.add("hidden");
      }

      // Event Listeners
      document.querySelectorAll(".nav-link").forEach((link) => {
        link.addEventListener("click", (e) => {
          const tab = e.target.dataset.tab;
          switchTab(tab);
        });
      });
      // Tambahkan event listeners untuk advanced filters
      function initializeAdvancedFilters() {
        // Orientation buttons
        document.querySelectorAll(".orientation-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            const orientation = this.dataset.orientation;

            // Update UI
            document.querySelectorAll(".orientation-btn").forEach((b) => {
              b.classList.remove(
                "border-purple-600",
                "bg-purple-50",
                "text-purple-600"
              );
              b.classList.add("border-gray-200", "text-gray-700");
            });
            this.classList.add(
              "border-purple-600",
              "bg-purple-50",
              "text-purple-600"
            );
            this.classList.remove("border-gray-200", "text-gray-700");

            // Update filter
            currentFilters.orientation = orientation;
          });
        });

        // Color buttons
        document.querySelectorAll(".color-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            const color = this.dataset.color;

            // Update UI
            document.querySelectorAll(".color-btn").forEach((b) => {
              b.classList.remove(
                "border-purple-600",
                "ring-2",
                "ring-purple-600"
              );
            });
            this.classList.add(
              "border-purple-600",
              "ring-2",
              "ring-purple-600"
            );

            // Update filter
            currentFilters.color = color;
          });
        });

        // License type checkboxes
        document
          .querySelectorAll('input[type="checkbox"]')
          .forEach((checkbox) => {
            checkbox.addEventListener("change", function () {
              const licenseTypes = [];
              document
                .querySelectorAll('input[type="checkbox"]:checked')
                .forEach((cb) => {
                  if (cb.parentElement.textContent.includes("Free License")) {
                    licenseTypes.push("free");
                  } else if (
                    cb.parentElement.textContent.includes("Premium License")
                  ) {
                    licenseTypes.push("premium");
                  }
                });

              currentFilters.licenseTypes =
                licenseTypes.length > 0 ? licenseTypes : ["free", "premium"];
            });
          });

        // File size radio buttons
        document.querySelectorAll('input[name="filesize"]').forEach((radio) => {
          radio.addEventListener("change", function () {
            if (this.checked) {
              currentFilters.fileSize = this.parentElement.textContent.includes(
                "All Sizes"
              )
                ? "all"
                : this.parentElement.textContent.includes("Small")
                ? "small"
                : this.parentElement.textContent.includes("Medium")
                ? "medium"
                : "large";
            }
          });
        });

        // Subcategory select
        document
          .getElementById("subcategory-select")
          .addEventListener("change", function () {
            currentFilters.subcategory =
              this.value === "all" ? "all" : this.value.split("-")[1];
          });

        // Apply filters button
        document
          .getElementById("apply-filters")
          .addEventListener("click", function () {
            document
              .getElementById("advanced-filter-modal")
              .classList.add("hidden");
            applyAllFilters();
            showToast("‚úì Advanced filters applied successfully");
          });

        // Reset filters button
        document
          .getElementById("reset-filters")
          .addEventListener("click", function () {
            resetAdvancedFilters();
            showToast("‚úì Filters reset to default");
          });
      }

      // Fungsi untuk mereset semua filter
      function resetAdvancedFilters() {
        // Reset UI
        document.querySelectorAll(".orientation-btn").forEach((btn, index) => {
          if (index === 0) {
            btn.classList.add(
              "border-purple-600",
              "bg-purple-50",
              "text-purple-600"
            );
          } else {
            btn.classList.remove(
              "border-purple-600",
              "bg-purple-50",
              "text-purple-600"
            );
            btn.classList.add("border-gray-200", "text-gray-700");
          }
        });

        document.querySelectorAll(".color-btn").forEach((btn, index) => {
          if (index === 0) {
            btn.classList.add("border-purple-600", "ring-2", "ring-purple-600");
          } else {
            btn.classList.remove(
              "border-purple-600",
              "ring-2",
              "ring-purple-600"
            );
          }
        });

        // Reset checkboxes
        document
          .querySelectorAll('input[type="checkbox"]')
          .forEach((checkbox, index) => {
            checkbox.checked = index === 0; // Hanya free license yang dicentang
          });

        // Reset radio buttons
        document.querySelectorAll('input[name="filesize"]')[0].checked = true;

        // Reset select
        document.getElementById("subcategory-select").value = "all";

        // Reset filter state
        currentFilters = {
          orientation: "all",
          color: "all",
          licenseTypes: ["free"],
          fileSize: "all",
          subcategory: "all",
        };
      }

      // Fungsi untuk update hasil pencarian
      function updateResultCount(count) {
        const resultEl = document.getElementById("explore-result-count");
        let resultText = `Menampilkan ${count} aset`;

        // Tambahkan informasi filter aktif
        const activeFilters = [];

        if (currentCategory !== "all") {
          activeFilters.push(getCategoryLabel(currentCategory));
        }

        if (currentSubcategory !== "all") {
          activeFilters.push(currentSubcategory);
        }

        if (currentFilters.orientation !== "all") {
          activeFilters.push(currentFilters.orientation);
        }

        if (currentFilters.color !== "all") {
          activeFilters.push(currentFilters.color);
        }

        if (currentFilters.fileSize !== "all") {
          activeFilters.push(currentFilters.fileSize);
        }

        if (activeFilters.length > 0) {
          resultText += ` (Filter: ${activeFilters.join(", ")})`;
        }

        resultEl.textContent = resultText;
      }
      // Search bar di hero section
      document
        .getElementById("hero-search-form")
        .addEventListener("submit", (e) => {
          e.preventDefault();
          const query = document.getElementById("hero-search-input").value;
          if (query.trim()) {
            switchTab("explore");
            searchAssets(query);
          }
        });
      function sortAssets(sortBy) {
        let sortedAssets = [...exploreAssets];

        switch (sortBy) {
          case "popular":
            // Gabungkan likes dan downloads untuk menentukan popularitas
            sortedAssets.sort((a, b) => {
              const aScore = a.likes + a.downloads;
              const bScore = b.likes + b.downloads;
              return bScore - aScore;
            });
            showToast("‚úì Diurutkan berdasarkan popularitas");
            break;

          case "newest":
            // Asumsikan ID yang lebih tinggi = lebih baru
            sortedAssets.sort((a, b) => b.id - a.id);
            showToast("‚úì Diurutkan berdasarkan terbaru");
            break;

          case "downloads":
            sortedAssets.sort((a, b) => b.downloads - a.downloads);
            showToast("‚úì Diurutkan berdasarkan jumlah unduhan");
            break;

          case "likes":
            sortedAssets.sort((a, b) => b.likes - a.likes);
            showToast("‚úì Diurutkan berdasarkan jumlah likes");
            break;

          default:
            // Default sorting (original order)
            sortedAssets = [...sampleAssets];
        }

        exploreAssets = sortedAssets;
        generateExploreGallery(sortedAssets);

        // Update UI untuk menunjukkan sorting aktif
        updateSortUI(sortBy);
      }
      // Sort functionality
      document
        .getElementById("sort-select")
        .addEventListener("change", function (e) {
          const sortBy = e.target.value;
          sortAssets(sortBy);
        });

      // Grid view button functionality
      document
        .getElementById("grid-view-btn")
        .addEventListener("click", function () {
          toggleGridView();
        });

      // Search bar di explore section (real-time)
      document
        .getElementById("explore-search")
        .addEventListener("input", (e) => {
          const query = e.target.value;
          handleSearchInput(query);
        });
      // Fungsi clear search
      function clearSearch() {
        document.getElementById("explore-search").value = "";
        document.getElementById("hero-search-input").value = "";
        applyCombinedFilters();
      }

      // Tombol clear search (opsional)
      function addClearSearchButton() {
        const searchContainer = document.querySelector(".relative");
        if (searchContainer && !document.querySelector(".clear-search-btn")) {
          const clearBtn = document.createElement("button");
          clearBtn.type = "button";
          clearBtn.className =
            "clear-search-btn absolute right-20 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600";
          clearBtn.innerHTML = `
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        `;
          clearBtn.addEventListener("click", clearSearch);
          searchContainer.appendChild(clearBtn);
        }
      }
      // Trending tags search
      document.querySelectorAll(".trending-tag").forEach((tag) => {
        tag.addEventListener("click", (e) => {
          const searchTerm = e.target.dataset.tag;
          switchTab("explore");
          document.getElementById("explore-search").value = searchTerm;
          searchAssets(searchTerm);
        });
      });
      document.querySelectorAll(".trending-tag").forEach((tag) => {
        tag.addEventListener("click", (e) => {
          const searchTerm = e.target.dataset.tag;
          switchTab("explore");
          showToast(`Searching for "${searchTerm}"...`);
        });
      });

      document
        .getElementById("hero-search-form")
        .addEventListener("submit", (e) => {
          e.preventDefault();
          const query = document.getElementById("hero-search-input").value;
          if (query.trim()) {
            switchTab("explore");
            showToast(`Searching for "${query}"...`);
          }
        });

      document
        .getElementById("reverse-search-btn")
        .addEventListener("click", () => {
          showToast(
            "Reverse image search feature - Upload an image to find similar assets"
          );
        });

      document.getElementById("cta-primary").addEventListener("click", () => {
        showToast("Sign up feature - Create your free account");
      });

      document.getElementById("cta-secondary").addEventListener("click", () => {
        switchTab("pricing");
      });

      document.getElementById("login-btn").addEventListener("click", () => {
        showLoginModal();
      });

      document.getElementById("signup-btn").addEventListener("click", () => {
        showSignupModal();
      });

      document.querySelectorAll(".filter-pill").forEach((pill) => {
        pill.addEventListener("click", (e) => {
          filterExploreAssets(e.target.dataset.filter);
        });
      });

      document
        .getElementById("advanced-filter-btn")
        .addEventListener("click", () => {
          document
            .getElementById("advanced-filter-modal")
            .classList.remove("hidden");
        });

      document
        .getElementById("close-filter-modal")
        .addEventListener("click", () => {
          document
            .getElementById("advanced-filter-modal")
            .classList.add("hidden");
        });

      document.getElementById("apply-filters").addEventListener("click", () => {
        document
          .getElementById("advanced-filter-modal")
          .classList.add("hidden");
        showToast("Filters applied successfully");
      });

      document.getElementById("reset-filters").addEventListener("click", () => {
        showToast("Filters reset to default");
      });

      document
        .getElementById("become-creator-btn")
        .addEventListener("click", () => {
          showToast("Creator registration - Start your journey as a creator");
        });

      document
        .getElementById("asset-detail-modal")
        .addEventListener("click", (e) => {
          if (e.target.id === "asset-detail-modal") {
            closeAssetDetail();
          }
        });

      document.getElementById("login-modal").addEventListener("click", (e) => {
        if (e.target.id === "login-modal") {
          closeLoginModal();
        }
      });

      document.getElementById("signup-modal").addEventListener("click", (e) => {
        if (e.target.id === "signup-modal") {
          closeSignupModal();
        }
      });

      document.getElementById("login-form").addEventListener("submit", (e) => {
        e.preventDefault();
        const email = document.getElementById("login-email").value;
        const password = document.getElementById("login-password").value;

        // Admin credentials check
        if (email === "admin@pnggallery.com" && password === "admin123") {
          closeLoginModal();
          showToast("‚úì Welcome Admin! Redirecting to dashboard...");
          setTimeout(() => {
            switchTab("admin");
            generateAdminStats();
          }, 1000);
        } else {
          closeLoginModal();
          showToast(`‚úì Welcome back! Logged in as ${email}`);
        }
      });

      document.getElementById("signup-form").addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("signup-name").value;
        closeSignupModal();
        showToast(`‚úì Account created successfully! Welcome ${name}!`);
      });

      // Admin Functions
      const recentUsers = [
        {
          name: "John Smith",
          email: "john@example.com",
          time: "2 minutes ago",
          avatar: "üë®",
        },
        {
          name: "Sarah Johnson",
          email: "sarah@example.com",
          time: "15 minutes ago",
          avatar: "üë©",
        },
        {
          name: "Mike Chen",
          email: "mike@example.com",
          time: "1 hour ago",
          avatar: "üë®",
        },
        {
          name: "Emily Davis",
          email: "emily@example.com",
          time: "2 hours ago",
          avatar: "üë©",
        },
        {
          name: "David Wilson",
          email: "david@example.com",
          time: "3 hours ago",
          avatar: "üë®",
        },
      ];

      const pendingAssets = [
        {
          title: "Abstract Gradient",
          creator: "Sarah Designer",
          type: "illustration",
          time: "5 mins ago",
          icon: "üé®",
        },
        {
          title: "Tech Icon Pack",
          creator: "Mike Artist",
          type: "icon",
          time: "20 mins ago",
          icon: "‚ö°",
        },
        {
          title: "Business Vector",
          creator: "Lisa Creative",
          type: "vector",
          time: "1 hour ago",
          icon: "ÔøΩÔøΩ",
        },
        {
          title: "Nature Photo",
          creator: "Tom Graphics",
          type: "photo",
          time: "2 hours ago",
          icon: "üåø",
        },
        {
          title: "Abstract Shape",
          creator: "Anna Designer",
          type: "illustration",
          time: "3 hours ago",
          icon: "üî∑",
        },
      ];

      function generateAdminStats() {
        // Generate recent users
        const recentUsersContainer =
          document.getElementById("admin-recent-users");
        if (recentUsersContainer) {
          recentUsersContainer.innerHTML = recentUsers
            .map(
              (user) => `
          <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
            <div class="flex items-center gap-3">
              <div class="text-2xl">${user.avatar}</div>
              <div>
                <div class="font-semibold">${user.name}</div>
                <div class="text-sm text-gray-600">${user.email}</div>
              </div>
            </div>
            <div class="text-sm text-gray-500">${user.time}</div>
          </div>
        `
            )
            .join("");
        }

        // Generate pending assets
        const pendingAssetsContainer = document.getElementById(
          "admin-pending-assets"
        );
        if (pendingAssetsContainer) {
          pendingAssetsContainer.innerHTML = pendingAssets
            .map(
              (asset) => `
          <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
            <div class="flex items-center gap-3">
              <div class="text-2xl">${asset.icon}</div>
              <div>
                <div class="font-semibold">${asset.title}</div>
                <div class="text-sm text-gray-600">by ${asset.creator} ‚Ä¢ ${asset.type}</div>
              </div>
            </div>
            <div class="flex gap-2">
              <button onclick="approveAsset('${asset.title}')" class="px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600">‚úì</button>
              <button onclick="rejectAsset('${asset.title}')" class="px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600">‚úó</button>
            </div>
          </div>
        `
            )
            .join("");
        }

        // Generate admin assets grid
        generateAdminAssetsGrid();
      }

      function generateAdminAssetsGrid() {
        const container = document.getElementById("admin-assets-grid");
        if (!container) return;

        // Update asset count
        const countEl = document.getElementById("admin-assets-count");
        if (countEl) {
          countEl.textContent = `Manage all ${sampleAssets.length} assets in the gallery. Click edit to modify or delete to remove.`;
        }

        container.innerHTML = sampleAssets
          .map(
            (asset) => `
        <div class="bg-gray-50 rounded-lg overflow-hidden border-2 border-gray-200 hover:border-purple-400 transition">
          <div class="aspect-square flex items-center justify-center text-5xl checkered-bg">
            ${
              asset.imageData
                ? `<img src="${asset.imageData}" alt="${asset.title}" class="w-full h-full object-cover">`
                : asset.icon
            }
          </div>
          <div class="p-3">
            <div class="font-semibold text-sm mb-2">${asset.title}</div>
            <div class="flex gap-2">
              <button onclick="openEditAssetModal(${
                asset.id
              })" class="flex-1 px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600">
                ‚úèÔ∏è Edit
              </button>
              <button onclick="deleteAssetAdmin(${
                asset.id
              })" class="flex-1 px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600">
                üóëÔ∏è Delete
              </button>
            </div>
          </div>
        </div>
      `
          )
          .join("");
      }

      function logoutAdmin() {
        switchTab("home");
        showToast("‚úì Logged out successfully");
      }

      function showAdminAction(action) {
        const actions = {
          users: "User Management - View and manage all registered users",
          reports: "Analytics Dashboard - View detailed platform analytics",
        };
        showToast(actions[action] || "Admin action");
      }

      function approveAsset(title) {
        showToast(`‚úì Asset "${title}" approved and published`);
        const index = pendingAssets.findIndex((a) => a.title === title);
        if (index > -1) {
          pendingAssets.splice(index, 1);
          generateAdminStats();
        }
      }

      function rejectAsset(title) {
        showToast(`‚úó Asset "${title}" rejected`);
        const index = pendingAssets.findIndex((a) => a.title === title);
        if (index > -1) {
          pendingAssets.splice(index, 1);
          generateAdminStats();
        }
      }

      // Admin Modal Functions
      let uploadedImageData = null;

      function openUploadAssetModal() {
        document
          .getElementById("upload-asset-modal")
          .classList.remove("hidden");
        document.getElementById("upload-asset-form").reset();
        uploadedImageData = null;
        document
          .getElementById("upload-placeholder")
          .classList.remove("hidden");
        document.getElementById("image-preview").classList.add("hidden");
      }

      function closeUploadAssetModal() {
        document.getElementById("upload-asset-modal").classList.add("hidden");
        uploadedImageData = null;
      }

      function removeUploadedImage() {
        uploadedImageData = null;
        document
          .getElementById("upload-placeholder")
          .classList.remove("hidden");
        document.getElementById("image-preview").classList.add("hidden");
        document.getElementById("asset-image-input").value = "";
      }

      function openEditContentModal() {
        document
          .getElementById("edit-content-modal")
          .classList.remove("hidden");

        // Populate form with current values
        document.getElementById("edit-site-title").value =
          config.site_title || defaultConfig.site_title;
        document.getElementById("edit-tagline").value =
          config.tagline || defaultConfig.tagline;
        document.getElementById("edit-hero-heading").value =
          config.hero_heading || defaultConfig.hero_heading;
        document.getElementById("edit-hero-description").value =
          config.hero_description || defaultConfig.hero_description;
        document.getElementById("edit-cta-primary").value =
          config.cta_primary || defaultConfig.cta_primary;
        document.getElementById("edit-cta-secondary").value =
          config.cta_secondary || defaultConfig.cta_secondary;
      }

      function closeEditContentModal() {
        document.getElementById("edit-content-modal").classList.add("hidden");
      }

      function openEditAssetModal(assetId) {
        const asset = sampleAssets.find((a) => a.id === assetId);
        if (!asset) return;

        document.getElementById("edit-asset-modal").classList.remove("hidden");
        document.getElementById("edit-asset-id").value = asset.id;
        document.getElementById("edit-asset-emoji").value = asset.icon;
        document.getElementById("edit-asset-title").value = asset.title;
        document.getElementById("edit-asset-type").value = asset.type;
        document.getElementById("edit-asset-premium").checked = asset.premium;
      }

      function closeEditAssetModal() {
        document.getElementById("edit-asset-modal").classList.add("hidden");
      }

      function deleteAssetAdmin(assetId) {
        const asset = sampleAssets.find((a) => a.id === assetId);
        if (!asset) return;

        const confirmDiv = document.createElement("div");
        confirmDiv.className = "modal-overlay";
        confirmDiv.innerHTML = `
        <div class="modal-content max-w-md">
          <div class="p-8 text-center">
            <div class="text-6xl mb-4">‚ö†Ô∏è</div>
            <h3 class="text-2xl font-bold mb-4">Hapus Asset?</h3>
            <p class="text-gray-600 mb-6">Anda yakin ingin menghapus "${asset.title}"? Tindakan ini tidak dapat dibatalkan.</p>
            <div class="flex gap-4">
              <button onclick="this.closest('.modal-overlay').remove()" class="flex-1 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50">
                Batal
              </button>
              <button onclick="confirmDeleteAsset(${assetId}); this.closest('.modal-overlay').remove()" class="flex-1 py-3 bg-red-500 text-white rounded-lg font-bold hover:bg-red-600">
                Hapus
              </button>
            </div>
          </div>
        </div>
      `;
        document.body.appendChild(confirmDiv);
      }

      function confirmDeleteAsset(assetId) {
        const index = sampleAssets.findIndex((a) => a.id === assetId);
        if (index > -1) {
          const asset = sampleAssets[index];
          sampleAssets.splice(index, 1);
          exploreAssets = [...sampleAssets];
          generateExploreGallery(exploreAssets);
          generateAdminAssetsGrid();
          showToast(`‚úì Asset "${asset.title}" berhasil dihapus`);
        }
      }

      // Image Upload Handler
      document
        .getElementById("image-upload-area")
        .addEventListener("click", () => {
          document.getElementById("asset-image-input").click();
        });

      document
        .getElementById("asset-image-input")
        .addEventListener("change", (e) => {
          const file = e.target.files[0];
          if (!file) return;

          // Validate file size (10MB max)
          if (file.size > 10 * 1024 * 1024) {
            showToast("‚ö†Ô∏è File size must be less than 10MB");
            return;
          }

          // Validate file type
          if (!file.type.startsWith("image/")) {
            showToast("‚ö†Ô∏è Please upload an image file");
            return;
          }

          const reader = new FileReader();
          reader.onload = (event) => {
            uploadedImageData = event.target.result;
            document.getElementById("preview-image").src = uploadedImageData;
            document
              .getElementById("upload-placeholder")
              .classList.add("hidden");
            document.getElementById("image-preview").classList.remove("hidden");
            showToast("‚úì Image loaded successfully!");
          };
          reader.readAsDataURL(file);
        });

      // Form Handlers
      document
        .getElementById("upload-asset-form")
        .addEventListener("submit", (e) => {
          e.preventDefault();

          const emojiValue = document
            .getElementById("asset-emoji")
            .value.trim();

          // Validate that either image or emoji is provided
          if (!uploadedImageData && !emojiValue) {
            showToast("‚ö†Ô∏è Please upload an image or enter an emoji");
            return;
          }

          const newAsset = {
            id: sampleAssets.length + 1,
            icon: emojiValue || "üñºÔ∏è",
            title: document.getElementById("asset-title").value,
            type: document.getElementById("asset-type").value,
            likes: 0,
            downloads: 0,
            premium: document.getElementById("asset-premium").checked,
            imageData: uploadedImageData, // Store uploaded image data
          };

          sampleAssets.push(newAsset);
          exploreAssets = [...sampleAssets];
          generateExploreGallery(exploreAssets);
          generateAdminAssetsGrid();
          closeUploadAssetModal();
          showToast(`‚úì Asset "${newAsset.title}" berhasil diupload!`);
        });

      document
        .getElementById("edit-content-form")
        .addEventListener("submit", (e) => {
          e.preventDefault();

          const updatedConfig = {
            site_title: document.getElementById("edit-site-title").value,
            tagline: document.getElementById("edit-tagline").value,
            hero_heading: document.getElementById("edit-hero-heading").value,
            hero_description: document.getElementById("edit-hero-description")
              .value,
            cta_primary: document.getElementById("edit-cta-primary").value,
            cta_secondary: document.getElementById("edit-cta-secondary").value,
          };

          if (window.elementSdk) {
            window.elementSdk.setConfig(updatedConfig);
          }

          closeEditContentModal();
          showToast("‚úì Konten berhasil diperbarui!");
        });

      document
        .getElementById("edit-asset-form")
        .addEventListener("submit", (e) => {
          e.preventDefault();

          const assetId = parseInt(
            document.getElementById("edit-asset-id").value
          );
          const asset = sampleAssets.find((a) => a.id === assetId);

          if (asset) {
            asset.icon = document.getElementById("edit-asset-emoji").value;
            asset.title = document.getElementById("edit-asset-title").value;
            asset.type = document.getElementById("edit-asset-type").value;
            asset.premium =
              document.getElementById("edit-asset-premium").checked;

            exploreAssets = [...sampleAssets];
            generateExploreGallery(exploreAssets);
            generateAdminAssetsGrid();
            closeEditAssetModal();
            showToast(`‚úì Asset "${asset.title}" berhasil diperbarui!`);
          }
        });

      // Close modals on overlay click
      document
        .getElementById("upload-asset-modal")
        .addEventListener("click", (e) => {
          if (e.target.id === "upload-asset-modal") closeUploadAssetModal();
        });

      document
        .getElementById("edit-content-modal")
        .addEventListener("click", (e) => {
          if (e.target.id === "edit-content-modal") closeEditContentModal();
        });

      document
        .getElementById("edit-asset-modal")
        .addEventListener("click", (e) => {
          if (e.target.id === "edit-asset-modal") closeEditAssetModal();
        });
      // Panggil fungsi inisialisasi di bagian akhir script
      initializeAdvancedFilters();

      // Responsive functionality
      function handleResponsiveLayout() {
        const width = window.innerWidth;

        if (width < 768) {
          // Mobile layout adjustments
          document.body.classList.add("mobile-view");
          document.body.classList.remove("tablet-view", "desktop-view");

          // Adjust grid view for mobile
          if (currentGridView === "list") {
            toggleGridView(); // Switch to grid view on mobile
          }
        } else if (width < 1024) {
          // Tablet layout
          document.body.classList.add("tablet-view");
          document.body.classList.remove("mobile-view", "desktop-view");
        } else {
          // Desktop layout
          document.body.classList.add("desktop-view");
          document.body.classList.remove("mobile-view", "tablet-view");
        }
      }

      // Initialize responsive layout
      handleResponsiveLayout();

      // Update on resize
      let resizeTimeout;
      window.addEventListener("resize", function () {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(handleResponsiveLayout, 250);
      });

      // Touch event improvements for mobile
      document.addEventListener("touchstart", function () {}, {
        passive: true,
      });

      // Prevent zoom on double tap (optional)
      let lastTouchEnd = 0;
      document.addEventListener(
        "touchend",
        function (event) {
          const now = new Date().getTime();
          if (now - lastTouchEnd <= 300) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        },
        false
      );

      // Initialize
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues,
        });

        config = window.elementSdk.config;
        onConfigChange(config);
      }
      // Initialize
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues,
        });

        config = window.elementSdk.config;
        onConfigChange(config);
      }

      generateFeaturedCollections();
      generateAssetTypes();
      generateExploreGallery(sampleAssets);
      generateFeaturedCreators();
      generateDownloadHistory();
      generateTrendingTags(); // Tambahkan ini

      generateFeaturedCollections();
      generateAssetTypes();
      generateExploreGallery(sampleAssets);
      generateFeaturedCreators();
      generateDownloadHistory();
    </script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'9a0cc3d1e2986cec',t:'MTc2MzUyNDQ1Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
      function debugResponsive() {
        console.log("Window size:", window.innerWidth, "x", window.innerHeight);
        console.log("Device pixel ratio:", window.devicePixelRatio);
        console.log("Touch device:", "ontouchstart" in window);
      }
    </script>
  </body>
</html>
